(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+9UM":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("esI9"),l={loading:!0,roles:null};t.default=function(e=l,t){if(t.type.startsWith("role.")&&t.type.endsWith(".fail"))return{...e,loading:!1};switch(t.type){case a.ROLES_RECEIVED:return{...e,roles:t.roles,loading:!1};case a.START_ROLE_XHR:return{...e,loading:!0};default:return e}}},"+F6L":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBanner=t.defaultLogo=t.defaultBanner=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=i("0x+l"),n=a.__importDefault(i("aWzz")),o=i("myse"),r=i("mwK+");i("INmU");const d=i("/qxE"),u=a.__importDefault(i("4A+w")),c=i("Sqh5");t.defaultBanner=c;const p=i("8qAH");t.defaultLogo=p;const f=({bgUrl:e,logoUrl:t,title:i,onModifyImage:a,permission:n,onUpdateTitle:r,localeText:f,analyticsId:m})=>{const h=(0,o.useAnalyticsAugmentEventOnElement)("click",()=>{a("banner")},`${m}.edit.banner.button`),g=n?l.default.createElement("button",{className:"banner__edit-button banner__edit-button--banner",onClick:h,title:f.editBannerTitle,"aria-label":f.editBannerTitle},l.default.createElement(s.Edit,{className:"svg-icon svg-icon--small-icon"})):"",_=(0,o.useAnalyticsAugmentEventOnElement)("click",()=>{a("logo")},`${m}.edit.logo.button`),E=n?l.default.createElement("button",{className:"banner__edit-button banner__edit-button--logo",onClick:_,title:f.editLogoTitle,"aria-label":f.editLogoTitle},l.default.createElement(s.Edit,{className:"svg-icon svg-icon--small-icon"})):"",I={backgroundImage:`url('${(0,d.convertToAbsoluteUrl)(e)||c}')`},y={backgroundImage:`url('${(0,d.convertToAbsoluteUrl)(t)||p}')`},b=n?l.default.createElement(u.default,{id:"ip-headline",content:i,attr:"title",buttonTitle:f.editIPTitle,onValueChange:r,onValidateInput:e=>(0,d.validateTooLong)(e,f.invalidLongTitle),isHeader:!0,analyticsId:`${m}.title`}):i;return l.default.createElement("div",{className:"banner",style:I},g,l.default.createElement("div",{className:"banner__logo-container"},l.default.createElement("div",{className:"banner__logo",style:y}),E),l.default.createElement("h2",{className:"banner__title"},l.default.createElement("span",{className:"banner__title-text"},b)))};t.BaseBanner=f,f.propTypes={bgUrl:n.default.string,logoUrl:n.default.string,title:n.default.string.isRequired,onModifyImage:n.default.func,onUpdateTitle:n.default.func,permission:n.default.bool.isRequired,localeText:n.default.shape({editBannerTitle:n.default.string.isRequired,editIPTitle:n.default.string.isRequired,editLogoTitle:n.default.string.isRequired,invalidLongTitle:n.default.string.isRequired}).isRequired,analyticsId:n.default.string},f.defaultProps={bgUrl:"",logoUrl:"",onModifyImage:()=>{},onUpdateTitle:()=>{},...r.addAnalyticsProps};const m=f;t.default=m},"+LFL":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("ERsv"),r=i("0x+l");i("sDkz");const d=i("Jjaw"),u=a.__importDefault(i("P7Gt")),c=a.__importDefault(i("4A+w")),p=a.__importDefault(i("pL4F")),f=i("/qxE"),m=a.__importDefault(i("Itin")),h=a.__importDefault(i("f++J")),g=a.__importDefault(i("RDnQ")),_=a.__importDefault(i("sxh5")),E=a.__importDefault(i("heXz")),I=a.__importDefault(i("NyG6")),y=a.__importDefault(i("lOtC")),b=i("esI9");class D extends l.default.Component{constructor(e){super(e),this.onUpdateDetails=(e,t)=>{if(e){const i={...this.state.module,details:e};this.setState(()=>({module:i,isModuleDirty:!0,isModuleValid:t}))}},this.onUpdateInstitutionRoleIds=e=>{this.setState(t=>({module:{...t.module,institutionRoleIds:e},areRolesDirty:!0}))},this.onUpdateTitle=(e,t)=>{if(t!==this.state.module.title){const e={...this.state.module,title:t},i=(0,f.validateAll)(t).isValid;this.setState(()=>({module:e,isModuleDirty:!0,isModuleValid:i}))}},this.onSave=()=>{this.setState({isSaving:!0});const e=(0,f.trimStringValues)(this.state.module);this.props.saveModule(e,this.state.isModuleDirty,this.state.areResourcesDirty,this.state.areRolesDirty).then(()=>{this.props.onClose()}).finally(()=>{this.setState({isSaving:!1})})},this.onCancel=()=>{this.state.isModuleDirty||this.state.areResourcesDirty||this.state.areRolesDirty?this.setState(()=>({popupProps:{title:this.translations.closeTitle,id:"edit-module-cancel-confirmation",content:this.translations.closeContent,onOk:this.onPopupOk,onCancel:this.onPopupCancel,onOkText:this.translations.closeBtn,onCancelText:this.translations.cancelBtnText}})):this.props.onClose()},this.onPopupOk=()=>{this.setState(()=>({popupProps:null})),this.props.onClose()},this.onPopupCancel=()=>{this.setState(()=>({popupProps:null}))},this.setUnsavedResources=(e,t,i=(()=>{}),a=!0)=>{this.setState(i=>({module:{...i.module,resources:e},areResourcesDirty:a,areResourcesValid:t}),i)},this.filterValidRolesOnModule=e=>e&&e.institutionRoleIds?{...e,institutionRoleIds:(0,f.filterValidRoles)(e.institutionRoleIds,this.props.role.roles).map(e=>e.key)}:e,this.overrideFocusAndOpenEditImagePanel=e=>{let t=null;e&&(t=e.id,e.details.imageHref?this.props.setFocusOverride(`#dnd-${e.id}.module-table__row-container .edit-image-button .add-button`,".institution-page-container"):this.props.setFocusOverride(`#dnd-${e.id}.module-table__row-container .edit-image-button .image-thumbnail-edit`,".institution-page-container")),this.props.onOpenEditImagePanel(t)},this.generateAudienceLabel=()=>{const e=this.props.localize.translate("ip.editModule.rolesSelector.allUsers"),t=this.props.localize.translate("ip.editModule.rolesSelector.multipleRoles"),i=this.props.localize.translate("ip.editModule.rolesSelector.unknownRole");return l.default.createElement("span",{className:"audience-container"},this.state.hasInvalidRoles&&l.default.createElement(r.Attention,{className:"attention-icon"}),(0,f.generateAudienceLabel)(this.state.module.institutionRoleIds,this.props.role.roles,e,t,i))},this.clearSessionImage=()=>this.props.dispatch((0,b.setSessionImage)(void 0)),this.validateModuleHeaderInput=e=>(0,f.validateAll)(e,this.translations.validateModuleName,this.translations.validateTooLongMessage),this.handleModuleHeaderEdit=e=>this.setState(()=>({isHeaderEditing:e})),this.emptyCallback=()=>{};const{module:t}=e,i=!(!t||!t.institutionRoleIds||this.props.role.loading)&&!(0,f.areRolesValid)(t.institutionRoleIds,this.props.role.roles||[]);this.state={module:i?this.filterValidRolesOnModule(t):t,isModuleDirty:e.startDirty,areResourcesDirty:e.startDirty,areRolesDirty:e.startDirty||i,isModuleValid:!0,areResourcesValid:e.resourceStartValid,popupProps:null,isHeaderEditing:!1,hasInvalidRoles:i,isSaving:!1},this.translations={}}UNSAFE_componentWillReceiveProps(e){if(!(0,f.shallowEqual)(e.module,this.props.module)||e.role.loading!==this.props.role.loading){const t=e.module&&e.module.institutionRoleIds&&!e.role.loading&&!(0,f.areRolesValid)(e.module.institutionRoleIds,e.role.roles||[]);this.setState(()=>({module:t?this.filterValidRolesOnModule(e.module):e.module,hasInvalidRoles:t}))}}componentWillUnmount(){this.props.dispatch((0,b.clearSessionData)())}render(){const e=this.state.isModuleDirty||this.state.areResourcesDirty||this.state.areRolesDirty,t=!this.state.isModuleValid||!this.state.areResourcesValid,i=!e||t||this.state.isSaving,a="institutionPage.editModule",s=this.props.localize.translate;return this.translations.closeTitle=s("ip.editModule.closeTitle"),this.translations.closeContent=s("ip.editModule.closeContent"),this.translations.closeBtn=s("ip.editModule.closeBtn"),this.translations.cancelBtnText=s("ip.editModule.cancelBtnText"),this.translations.validateModuleName=s("ip.editModule.validateModuleName"),this.translations.validateTooLongMessage=s("ip.editModule.validateTooLongMessage"),this.translations.incompleteBtn=s("ip.editModule.incompleteBtn"),l.default.createElement("div",null,l.default.createElement("div",{className:"edit-module-page flex-page-container"},l.default.createElement("div",{id:"edit-module-section",className:"flex-page-content has-footer"},this.state.popupProps?l.default.createElement(d.ConfirmationPopup,{...this.state.popupProps,analyticsId:`${a}.confirmation.popup`}):"",l.default.createElement("div",{className:`page-header ${this.state.isHeaderEditing?"-is-editing":""}`},l.default.createElement("span",{className:"page-header__super-title"},s("ip.editModule.pageHeader")),l.default.createElement(c.default,{id:this.state.module.id,content:this.state.module.title,attr:"title",buttonTitle:s("ip.editModule.editModuleName"),onValueChange:this.onUpdateTitle,onValidateInput:this.validateModuleHeaderInput,onInputEdit:this.handleModuleHeaderEdit,isHeader:!0,analyticsId:`${a}.title`})),l.default.createElement(u.default,{className:"module-roles-panel",headerLeft:l.default.createElement("span",null,s("ip.editModule.rolesSelector.label")),headerRight:this.generateAudienceLabel(),startExpanded:this.props.expandRoles||this.state.hasInvalidRoles,analyticsId:`${a}.moduleRolesPanel`},l.default.createElement("div",{className:"module-roles-panel__content"},l.default.createElement("h2",{className:"subheader"},s("ip.editModule.rolesSelector.instructionsHeader")),s("ip.editModule.rolesSelector.instructionsDetails"),this.state.hasInvalidRoles&&l.default.createElement("div",{className:"module-roles-panel__unknown-role-error"},s("ip.moduleList.unknownRoleErrorMessage")),l.default.createElement(y.default,{institutionRoleIds:this.state.module?this.state.module.institutionRoleIds:[],role:this.props.role,expandRoles:this.props.expandRoles||this.state.hasInvalidRoles,onUpdateInstitutionRoleIds:this.onUpdateInstitutionRoleIds,analyticsId:`${a}.moduleRolesPicker`}))),l.default.createElement("div",{className:"module-preview-component"},l.default.createElement("div",{className:"module-preview-component__container"},l.default.createElement("h3",{className:"subheader module-preview-component__title"},s("ip.moduleList.previewText")),l.default.createElement("h3",{className:"preview__title"},this.state.module.title),l.default.createElement(I.default,{module:this.state.module,dispatch:this.emptyCallback,locale:this.props.currentLocale,openAll:this.emptyCallback,pluginsConfig:this.props.pluginsConfig,preview:!0,analyticsId:`${a}.previewModule`}))),l.default.createElement("div",{className:"module-editor-component"},l.default.createElement(E.default,{dispatch:this.props.dispatch,module:this.state.module,session:this.props.session,onOpenEditImagePanel:this.overrideFocusAndOpenEditImagePanel,setUnsavedResources:this.setUnsavedResources,localize:this.props.localize,onUpdateDetails:this.onUpdateDetails,onValidateInput:f.validateAll,pluginsConfig:this.props.pluginsConfig,analyticsId:`${a}.content`})))),l.default.createElement(p.default,{clickPrimary:this.onSave,textPrimary:s("ip.editModule.saveBtnText"),ariaPrimary:s("ip.editModule.saveChangesAria"),disabledPrimary:i,clickSecondary:this.onCancel,textSecondary:s("ip.editModule.cancelBtnText"),ariaSecondary:s("ip.editModule.cancelChangesAria"),analyticsId:`${a}.footer`}))}}D.propTypes={dispatch:s.default.func.isRequired,module:h.default,role:g.default.isRequired,localize:m.default.isRequired,currentLocale:s.default.string.isRequired,session:_.default.isRequired,onClose:s.default.func.isRequired,onOpenEditImagePanel:s.default.func.isRequired,setFocusOverride:s.default.func.isRequired,saveModule:s.default.func.isRequired,startDirty:s.default.bool,resourceStartValid:s.default.bool,pluginsConfig:o.optionalPluginConfigPropTypes.isRequired,expandRoles:s.default.bool},D.defaultProps={module:null,startDirty:!1,resourceStartValid:!0,expandRoles:!1},t.default=(0,n.localizedComponentWrapper)(D)},"+YST":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLinkList=t.LocalizedLinkList=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=a.__importDefault(i("7O4Y")),o=i("FS8K"),r=i("myse"),d=i("mwK+"),u=a.__importDefault(i("Itin")),c=i("Y9wL"),p=i("/qxE");i("QqAT");class f extends l.default.Component{constructor(e){super(e),this.state={disableTabIndex:e.disableLinks?{tabIndex:-1}:{}},this.boundConvertLinkToListItem=this.convertLinkToListItem.bind(this),this.boundOpenAllWrapper=this.openAllWrapper.bind(this)}openAllWrapper(e){this.props.disableLinks||(e.preventDefault(),this.props.openAll(this.props.moduleId))}changeActiveLinkIdWrapper(e,t){t<this.props.maxActiveLinkIndex&&this.props.changeActiveLinkId(e)}singleLinkClassName(e){return(0,n.default)({"disable-link":this.props.disableLinks,"link-list-component__link":!0,"-black":!0,active:this.props.maxActiveLinkIndex>1&&e===this.props.activeLinkIndex})}convertLinkToListItem(e,t){const i=`${this.props.analyticsId}.link`;return l.default.createElement("li",{className:"link-list-component__list-item",key:e.id},l.default.createElement("a",{...this.props.disableLinks?{}:{href:(0,p.sanitizeLinkUrl)(e.link)},rel:"noopener noreferrer",target:"_blank",role:"link",...this.state.disableTabIndex,className:this.singleLinkClassName(t),onMouseMove:()=>this.changeActiveLinkIdWrapper(e.id,t),onFocus:()=>this.changeActiveLinkIdWrapper(e.id,t),onClick:this.props.analyticsEventAugmentor(r.AnalyticsEventTypes.CLICK_EVENT,()=>{},i),"data-analytics-id":i},e.title))}render(){const{maxColumns:e,disableLinks:t,customClasses:i,localize:a,items:s,analyticsId:o,analyticsEventAugmentor:d}=this.props,u=[...s],p=[];for(let t=1;t<e&&u.length>c.MAX_LINKS_PER_COLUMN;t++)p.push(l.default.createElement("div",{className:"link-list-component__column",key:t},l.default.createElement("ul",{className:"link-list-component__list"},u.splice(0,c.MAX_LINKS_PER_COLUMN).map(this.boundConvertLinkToListItem))));const f=u.length>c.MAX_LINKS_PER_COLUMN,m=(0,n.default)({"disabled-view-all":t,"link-list-component__link":!0,"link-list-component__show-all-button":!0}),h=`${o}.view-all.button`,g=f?l.default.createElement("li",{className:"link-list-component__list-item js-show-all-list-item"},l.default.createElement("button",{...this.state.disableTabIndex,"aria-disabled":t,className:m,onClick:d(r.AnalyticsEventTypes.CLICK_EVENT,this.boundOpenAllWrapper,h),"data-analytics-id":h},l.default.createElement("span",{className:"link-list-component__show-all"},a.translate("ip.moduleList.showAllText",{linkCount:s.length})))):"",_=(f?u.slice(0,c.MAX_LINKS_PER_COLUMN-1):u).map(this.boundConvertLinkToListItem),E=l.default.createElement("div",{className:"link-list-component__column"},l.default.createElement("ul",{className:"link-list-component__list"},_,g)),I=i?`link-list-component ${i}`:"link-list-component";return l.default.createElement("div",{className:I},p,E)}}t.BaseLinkList=f,f.getDerivedStateFromProps=(e,t)=>{let i=null;return e.disableLinks&&!t.disableTabIndex.tabIndex?i={disableTabIndex:{tabIndex:-1}}:!e.disableLinks&&t.disableTabIndex.tabIndex&&(i={disableTabIndex:{}}),i},f.propTypes={activeLinkIndex:s.default.number,items:s.default.arrayOf(s.default.shape({title:s.default.string.isRequired,link:s.default.string.isRequired,id:s.default.string.isRequired})).isRequired,openAll:s.default.func,changeActiveLinkId:s.default.func,maxActiveLinkIndex:s.default.number,moduleId:s.default.string,disableLinks:s.default.bool,maxColumns:s.default.oneOf([c.NUM_LINK_COLUMNS_WITH_IMAGE,c.NUM_LINK_COLUMNS_WITHOUT_IMAGE]),customClasses:s.default.string,localize:u.default.isRequired,...d.withAnalyticsProps},f.defaultProps={activeLinkIndex:-1,disableLinks:!1,openAll:()=>{},changeActiveLinkId:()=>{},maxActiveLinkIndex:-1,moduleId:null,maxColumns:c.NUM_LINK_COLUMNS_WITH_IMAGE,customClasses:null};const m=(0,o.localizedComponentWrapper)(f);t.LocalizedLinkList=m,t.default=(0,r.withAnalytics)(m)},"+vjQ":function(e,t,i){"use strict";i.r(t)},"/R+E":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedEditResourceImage=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("myse"),r=i("mwK+"),d=i("esI9"),u=i("Jjaw"),c=a.__importDefault(i("maU5")),p=a.__importDefault(i("pL4F")),f=a.__importDefault(i("Ll+A")),m=a.__importDefault(i("o2Vb")),h=a.__importDefault(i("tZS9")),g=a.__importDefault(i("Itin")),_=a.__importDefault(i("sxh5")),E=i("/qxE"),I=i("tN4z");i("DGv8");const y=i("0x+l"),b=i("DVRQ");function D(e,t,i){const{session:a,imageToSave:l}=e,s=a.image||null;let n=!1,o="",r="";return s&&(n=!!s.details[t],o=l?l.url:s.details[t],r=l?l.id:s.details[i]),{resource:s,imageUrl:o,imageId:r,enableTrashIcon:n,saveDisabled:!0,isShowPopup:!1,imageIsLoading:!1,imageIsError:!1}}class R extends l.default.Component{constructor(e){super(e),this.onInsertImage=()=>{const e=this.state.imageUrl;if(e){const t=new Image;t.src=(0,E.convertToAbsoluteUrl)(e),this.setState({imageIsLoading:!0}),t.onload=()=>{const t=e;this.setState(e=>({resource:{...e.resource,details:{...e.resource.details,[this.hrefKey]:t,[this.imageIdKey]:e.imageId}},saveDisabled:!1,imageIsLoading:!1,enableTrashIcon:!0}))},t.onerror=()=>{this.setState({imageIsError:!0,imageIsLoading:!1,imageUrl:""})}}},this.onPopupOk=()=>{this.setState(e=>({resource:{...e.resource,details:{...e.resource.details,[this.hrefKey]:"",[this.imageIdKey]:""}},saveDisabled:!1,isShowPopup:!1,enableTrashIcon:!1,imageUrl:"",imageId:""}))},this.onPopupCancel=()=>{this.setState({isShowPopup:!1})},this.onInputChange=e=>{e.target.value.trim(),this.setState({imageUrl:e.target.value})},this.onCloseError=()=>{this.setState({imageIsError:!1,imageUrl:"",imageId:""})},this.clickDeleteOnPreview=()=>{this.setState({isShowPopup:!0})},this.clickSave=()=>{this.props.dispatch((0,d.setSessionImage)(this.state.resource)),this.props.onClose()},this.clickCancel=()=>{this.props.onClose()},this.hrefKey="imageHref",this.imageIdKey="imageId",this.state=D(e,this.hrefKey,this.imageIdKey)}componentDidMount(){this.props.imageToSave&&this.state.imageUrl&&this.onInsertImage()}UNSAFE_componentWillReceiveProps(e){e.session.image&&e.session.image.id!==e.linkId&&e.onClose(),null===this.state.resource&&this.setState(D(e,this.hrefKey)),e.imageToSave&&e.imageToSave.url!==this.state.imageUrl&&this.setState(()=>({imageUrl:e.imageToSave.url,imageId:e.imageToSave.id}),this.onInsertImage)}render(){const e="institutionPage.editImage.resource",t=this.props.localize.translate,{resource:i,enableTrashIcon:a}=this.state,s=`${e}.deleteImage.button`,n=a?l.default.createElement("button",{className:"edit-image-component__delete-icon",onClick:this.props.analyticsEventAugmentor(o.AnalyticsEventTypes.CLICK_EVENT,this.clickDeleteOnPreview,s),"data-analytics-id":s,"aria-label":t("ip.editPage.deleteImageTitle")},l.default.createElement(y.Trash,null)):"",r=this.state.imageIsLoading?l.default.createElement(I.AnalyticsCircularProgress,{ariaLabel:t("ip.editPage.imageIsLoadingAriaLabel")}):null,d=[{text:t("ip.editPage.invalidImageBtn"),action:this.onCloseError}],m=i&&i.details[this.hrefKey]?(0,E.convertToAbsoluteUrl)(i.details[this.hrefKey]):b,h=this.props.imageToSave?t("ip.editPage.confirmRemoveImageContent"):t("ip.editPage.confirmRemoveImageContentWarning");return l.default.createElement("div",null,l.default.createElement("div",{className:"edit-image-component flex-page-container"},this.state.isShowPopup?l.default.createElement(u.ConfirmationPopup,{title:t("ip.editPage.confirmDeleteTitle"),id:"resource-image-delete-confirmation",content:h,onOk:this.onPopupOk,onOkText:t("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:t("ip.editPage.cancelDeleteBtn"),analyticsId:`${e}.confirmation.popup`}):"",this.state.imageIsError?l.default.createElement(u.CustomPopup,{title:t("ip.editPage.invalidImageSelectedTitle"),id:"edit-resource-image-error",content:t("ip.editPage.invalidImageSelectedContent"),onCancel:this.onCloseError,customControls:d,elementToFocusOnDismiss:this.contentCollectionLauncher,analyticsId:`${e}.error.popup`}):"",l.default.createElement("div",{className:"flex-page-content has-footer"},l.default.createElement(c.default,{superTitle:t("ip.editPage.superTitle"),title:t("ip.editPage.editLinkImage"),browserSettingsHref:this.props.contentCollectionSettings.browserSettingsHref,analyticsId:`${e}.header`}),l.default.createElement("div",{className:"flex-page-content__grow edit-image-component__content"},l.default.createElement("div",{className:"edit-image-component__preview"},n,r,l.default.createElement("img",{className:"edit-image-component__preview-img",src:m,alt:""})),l.default.createElement("div",{className:"edit-image-component__content-collection"},l.default.createElement(f.default,{customClasses:"edit-logo-component__content_collection_button",contentCollectionSettings:this.props.contentCollectionSettings,focusRef:e=>{this.contentCollectionLauncher=e},analyticsId:`${e}.content.launcher`}),!this.state.saveDisabled&&this.state.imageUrl&&l.default.createElement("div",{role:"alert","aria-live":"assertive",className:"edit-image-component__content-collection-warning",id:"edit-image-component-content-collection-warning"},t("ip.editPage.contentCollectionResourcePermissionMessage")))))),l.default.createElement(p.default,{clickPrimary:this.clickSave,disabledPrimary:this.state.saveDisabled,textPrimary:t("ip.editPage.saveChangesBtn"),ariaPrimary:t("ip.editPage.saveChangesAria"),clickSecondary:this.clickCancel,textSecondary:t("ip.editPage.cancelChangesBtn"),ariaSecondary:t("ip.editPage.cancelChangesAria"),analyticsId:`${e}.footer`}))}}R.propTypes={dispatch:s.default.func.isRequired,linkId:s.default.string,session:_.default.isRequired,localize:g.default.isRequired,onClose:s.default.func.isRequired,contentCollectionSettings:h.default,imageToSave:m.default,...r.withAnalyticsProps},R.defaultProps={linkId:null,imageToSave:null,contentCollectionSettings:null};const v=(0,n.localizedComponentWrapper)(R);t.LocalizedEditResourceImage=v,t.default=(0,o.withAnalytics)(v)},"/hmY":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setFeatureFlags=t.clearError=t.SET_FEATURE_FLAGS=t.CLEAR_ERROR=void 0,t.CLEAR_ERROR="global.error.clear",t.SET_FEATURE_FLAGS="global.set.featureFlags";t.clearError=()=>({type:t.CLEAR_ERROR});t.setFeatureFlags=e=>({type:t.SET_FEATURE_FLAGS,flags:e})},"/qxE":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToAbsoluteUrl=t.filterValidRoles=t.areRolesValid=t.generateAudienceLabel=t.shallowEqual=t.determineImageOrientation=t.isValidImageOrientation=t.getImageOrientation=t.configureEditorPlugins=t.sanitizeLinkUrl=t.trimStringValues=t.values=t.omit=t.getDisplayName=t.validateAll=t.validateTooLong=t.validateIsEmpty=void 0;const a=i("D57K"),l=a.__importDefault(i("vDDd"));t.sanitizeLinkUrl=l.default;const s=a.__importDefault(i("y/6i"));t.configureEditorPlugins=s.default;const n=a.__importDefault(i("e9z5"));t.convertToAbsoluteUrl=n.default;var o=i("Qutm");Object.defineProperty(t,"validateIsEmpty",{enumerable:!0,get:function(){return o.validateIsEmpty}}),Object.defineProperty(t,"validateTooLong",{enumerable:!0,get:function(){return o.validateTooLong}}),Object.defineProperty(t,"validateAll",{enumerable:!0,get:function(){return o.validateAll}});var r=i("cyZD");Object.defineProperty(t,"getDisplayName",{enumerable:!0,get:function(){return r.getDisplayName}}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return r.omit}}),Object.defineProperty(t,"values",{enumerable:!0,get:function(){return r.values}}),Object.defineProperty(t,"trimStringValues",{enumerable:!0,get:function(){return r.trimStringValues}});var d=i("EQ5u");Object.defineProperty(t,"getImageOrientation",{enumerable:!0,get:function(){return d.getImageOrientation}}),Object.defineProperty(t,"isValidImageOrientation",{enumerable:!0,get:function(){return d.isValidImageOrientation}}),Object.defineProperty(t,"determineImageOrientation",{enumerable:!0,get:function(){return d.determineImageOrientation}});var u=i("a+fq");Object.defineProperty(t,"shallowEqual",{enumerable:!0,get:function(){return u.shallowEqual}});var c=i("/xx/");Object.defineProperty(t,"generateAudienceLabel",{enumerable:!0,get:function(){return c.generateAudienceLabel}}),Object.defineProperty(t,"areRolesValid",{enumerable:!0,get:function(){return c.areRolesValid}}),Object.defineProperty(t,"filterValidRoles",{enumerable:!0,get:function(){return c.filterValidRoles}})},"/xx/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAudienceLabel=t.filterValidRoles=t.areRolesValid=void 0;t.areRolesValid=(e,t)=>{for(let i=0;i<(e||[]).length;i++)if(!t.some(t=>t.roleKey===e[i]))return!1;return!0};t.filterValidRoles=(e,t)=>e.reduce((e,i)=>{const a=(t||[]).find(e=>e.roleKey===i);return a&&e.push({key:a.roleKey,name:a.roleName}),e},[]);t.generateAudienceLabel=(e,t,i,a)=>{let l;switch((e||[]).length){case 0:l=i;break;case 1:l=((e,t)=>{const i=(t||[]).find(t=>t.roleKey===e);return i&&i.roleName||e})(e[0],t);break;default:l=a}return l}},"10SE":function(e,t,i){"use strict";i.r(t)},"10lr":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInlineEdit=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("myse"),r=i("mwK+"),d=i("0x+l");i("BgNF");const u=a.__importDefault(i("NQ5G"));class c extends l.default.Component{constructor(e){super(e),this.onFinishEdit=e=>{if(this.stopBlur)return void(this.stopBlur=!1);const t=this.props.onValidateInput(this.state.curContent);Promise.resolve(this.props.onValueChange(this.props.id,this.state.curContent,this.props.attr)).catch(()=>{this.setState({curContent:this.props.content})}),t.isValid&&this.setState(e=>({isEditing:!1,lastContent:e.curContent}),()=>{this.props.onInputEdit(this.state.isEditing),e&&this.parentDiv.focus()})},this.onCancelEdit=()=>{this.setState(e=>({isEditing:!1,curContent:e.lastContent}),()=>{this.props.onInputEdit(this.state.isEditing),this.parentDiv.focus()})},this.onEnterEdit=()=>{this.setState({isEditing:!0},()=>{this.textInput.focus(),this.props.onInputEdit(this.state.isEditing)})},this.onPressKey=e=>{e.keyCode===u.default.ENTER&&this.onFinishEdit(!0),e.keyCode===u.default.ESC&&this.onCancelEdit()},this.onChangeInput=e=>{this.setState({curContent:e})},this.onInputBlur=()=>{this.onFinishEdit(!1)},this.getClasses=e=>{let t="";return this.props.isHeader&&(t=` inline-edit-container--header${e}`),`inline-edit-container${e}${t}`},this.getErrorMessage=e=>{const t=this.props.onValidateInput(e);return t.isValid||t.errorMessage?Promise.resolve(t.errorMessage):new Promise(t=>{setTimeout(()=>this.getErrorMessage(e).then(e=>t(e)),0)})},this.stopBlur=!1;const{content:t,onValidateInput:i}=e;this.state={isEditing:!i(t).isValid,curContent:t,lastContent:t}}UNSAFE_componentWillReceiveProps(e){e.content!==this.state.curContent&&this.onChangeInput(e.content)}render(){const{analyticsEventAugmentor:e,analyticsId:t}=this.props,i=`${this.props.buttonTitle}`,a=`${this.props.id}-${this.props.attr}`,s=`${t}.edit.inline.input`,r=`${t}.edit.inline.button`;return this.state.isEditing?l.default.createElement("div",{className:this.getClasses("")},l.default.createElement(n.TextField,{className:"inline-edit-text-field",ref:e=>{this.textInput=e},onBlur:this.onInputBlur,onKeyDown:this.onPressKey,onChanged:this.onChangeInput,value:this.state.curContent,placeholder:this.props.placeholder,onGetErrorMessage:this.getErrorMessage,deferredValidationTime:0,ariaLabel:i})):l.default.createElement("div",{className:this.getClasses(""),tabIndex:-1,ref:e=>{this.parentDiv=e}},l.default.createElement("span",{id:a,className:this.getClasses("__link"),onClick:e(o.AnalyticsEventTypes.CLICK_EVENT,this.onEnterEdit,s),"data-analytics-id":s,role:"presentation"},this.state.curContent?l.default.createElement("span",{className:this.getClasses("__text")},this.state.curContent):l.default.createElement("span",{className:this.getClasses("__text-placeholder")},this.props.placeholder),l.default.createElement("button",{"aria-label":i,className:this.getClasses("__edit-button"),onClick:e(o.AnalyticsEventTypes.CLICK_EVENT,()=>{this.onEnterEdit()},r),"data-analytics-id":r,tabIndex:0},l.default.createElement(d.Edit,{className:this.getClasses("__edit")}))))}}t.BaseInlineEdit=c,c.propTypes={id:s.default.string.isRequired,content:s.default.string.isRequired,attr:s.default.string,buttonTitle:s.default.string.isRequired,onValidateInput:s.default.func,onValueChange:s.default.func,onInputEdit:s.default.func,isHeader:s.default.bool,placeholder:s.default.string,...r.withAnalyticsProps},c.defaultProps={onValidateInput:()=>({isValid:!0,errorMessage:""}),onValueChange:()=>{},onInputEdit:()=>{},attr:null,isHeader:!1,placeholder:""};const p=(0,o.withAnalytics)(c);t.default=p},"1AJA":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("Wmya"));t.default=a.default},"1B2r":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseContentCollectionLauncher=t.LocalizedContentCollectionLauncher=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("myse"),r=i("mwK+"),d=a.__importDefault(i("tZS9")),u=a.__importDefault(i("Itin"));class c extends l.default.Component{render(){const{contentCollectionSettings:e,customClasses:t,localize:i,focusRef:a,analyticsId:s,analyticsEventAugmentor:n,imageDimensionMessage:r}=this.props,d=i.translate,u=`${s}.insertFromCollection.link`,c=`${s}.insertFromCollection.button`;return e.shouldShowWindowSettingModal?l.default.createElement("button",{className:`button button--primary ${t}`,onClick:n(o.AnalyticsEventTypes.CLICK_EVENT,e.openWindowSettingModal,c),"data-analytics-id":c,"aria-label":d("ip.editPage.insertFromContentCollectionAria"),ref:a},d("ip.editPage.insertFromContentCollectionBtn")):l.default.createElement("a",{className:`button button--primary ${t}`,href:e.pickerHref,target:e.shouldOpenInNewWindow?"_blank":"","aria-label":`${d("ip.editPage.insertFromContentCollectionAria")} ${r}`,ref:a,rel:e.shouldOpenInNewWindow?"opener":"",onClick:n(o.AnalyticsEventTypes.CLICK_EVENT,()=>{},u),"data-analytics-id":u},d("ip.editPage.insertFromContentCollectionBtn"))}}t.BaseContentCollectionLauncher=c,c.propTypes={contentCollectionSettings:d.default.isRequired,customClasses:s.default.string,localize:u.default.isRequired,focusRef:s.default.func,imageDimensionMessage:s.default.string,...r.withAnalyticsProps},c.defaultProps={customClasses:"",focusRef:()=>{},imageDimensionMessage:""};const p=(0,n.localizedComponentWrapper)(c);t.LocalizedContentCollectionLauncher=p,t.default=(0,o.withAnalytics)(p)},"1DEl":function(e,t,i){"use strict";i.r(t)},"26Ar":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("7nmT")),n=i("uDfI"),o=i("FS8K"),r=i("A4Z1");i("6m01");const d=i("esI9"),u=a.__importDefault(i("Cvga")),c=a.__importDefault(i("VRfJ")),p=a.__importDefault(i("+LFL")),f=a.__importDefault(i("/R+E")),m=a.__importDefault(i("r/BW")),h=a.__importDefault(i("EpEV")),g=i("HJ8W"),_=a.__importStar(i("9T6f")),E=a.__importStar(i("xIJd")),I=i("YdOI"),y=a.__importDefault(i("5Rl4")),b=(0,h.default)(),D=e=>()=>{b.getState().common.error||e()};function R(e,t,i,a,d,u){let c=a;null==a&&"undefined"!=typeof window&&window.location.search.match("setLang=")&&(c=window.location.search.match(/setLang=([^$&]+)/)[1]),function(e,t){s.default.render(l.default.createElement(n.Provider,{store:b},e),t)}(l.default.createElement(r.AnalyticsJssThemeProvider,{theme:"light",isRtl:i,cssReset:"none"},l.default.createElement(o.Locale,{locale:c,babelfishInstance:d,babelfishFormatInstance:u,bundlesToLoad:["institution-page/locales/[locale]/ip.json"],isRtl:i},l.default.createElement("div",{className:"ip-app"},e))),t)}const v=(0,g.ExistingModuleSelector)(p.default),P=(0,g.ExistingModuleSelector)(f.default),C=(0,g.SessionModuleSelector)(f.default),M=(0,g.SessionModuleSelector)(p.default),L={renderIp:(e,t,i,a,s,n)=>{const{openEditPageImage:o,openAll:r,openEdit:c,openCreate:p,openSettings:f,setFocusOverride:m,featureFlags:h={},editorPluginsConfig:g={},selectPage:_,variantId:E,variantOptions:I,mode:y}=n;b.dispatch((0,d.startModuleXhr)()),b.dispatch((0,d.startPageXhr)()),b.dispatch((0,d.getData)(E)),b.dispatch((0,d.fetchPreferenceAndRoles)()),b.dispatch((0,d.setFeatureFlags)(h)),R(l.default.createElement(u.default,{onSwitchPage:_,openAll:r,openEdit:c,openEditPageImage:o,openCreate:p,openSettings:f,setFocusOverride:m,pluginsConfig:g,variantOptions:I,mode:y}),e,t,i,a,s)},renderAll:(e,t,i,a,s,n)=>{R(l.default.createElement(c.default,{moduleId:t}),e,i,a,s,n)},renderEdit:(e,t,i,a,s,n,o,r,d,u={},c)=>{R(l.default.createElement(v,{moduleId:t,onClose:D(i),onOpenEditImagePanel:a,setFocusOverride:s,pluginsConfig:u,expandRoles:c}),e,n,o,r,d)},renderEditLinkImage:(e,t,i,a,s,n,o,r,d,u)=>{R(l.default.createElement(P,{moduleId:i,linkId:t,onClose:D(a),contentCollectionSettings:d,imageToSave:u}),e,s,n,o,r)},renderCreateLinkImage:(e,t,i,a,s,n,o,r,d,u,c)=>{R(l.default.createElement(C,{linkId:t,type:i,sequence:a,onClose:D(s),contentCollectionSettings:u,imageToSave:c}),e,n,o,r,d)},renderCreate:(e,t,i,a,s,n,o,r,d,u,c={})=>{R(l.default.createElement(M,{type:t,sequence:i,shouldCreateSession:!0,onClose:D(a),onOpenEditImagePanel:s,setFocusOverride:n,pluginsConfig:c}),e,o,r,d,u)},renderEditLogo:(e,t,i,a,s,n,o,r)=>{R(l.default.createElement(m.default,{onClose:D(t),type:"logo",contentCollectionSettings:o,imageToSave:r}),e,i,a,s,n)},renderEditBanner:(e,t,i,a,s,n,o,r)=>{R(l.default.createElement(m.default,{onClose:D(t),type:"banner",contentCollectionSettings:o,imageToSave:r}),e,i,a,s,n)},destroyReactControl:e=>{s.default.unmountComponentAtNode(e)},pageService:_,moduleService:E,defaultBanner:I.defaultBanner,defaultLogo:I.defaultLogo,errorTypes:y.default};t.default=L},"2mJF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz"));i("ZyJK");const n=({title:e,superTitle:t})=>l.default.createElement("header",{className:"panel-header-component"},l.default.createElement("h2",{className:"subheader panel-header-component__super-title"},t),l.default.createElement("h1",{className:"subheader panel-header-component__title"},e));n.propTypes={superTitle:s.default.string,title:s.default.string},n.defaultProps={superTitle:"",title:""},t.default=n},"2tsB":function(e,t,i){"use strict";i.r(t)},"32Hy":function(e,t,i){"use strict";i.r(t)},"3qAq":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("myse"),o=i("mwK+");i("gMV7");const r=({ariaPrimary:e,clickPrimary:t,disabledPrimary:i,textPrimary:a,ariaSecondary:s,clickSecondary:o,disabledSecondary:r,textSecondary:d,analyticsId:u})=>l.default.createElement("footer",{className:"panel-footer-component"},l.default.createElement("div",{className:"panel-footer-component__buttons"},l.default.createElement("button",{className:"button button--secondary panel-footer-component__button",onClick:(0,n.useAnalyticsAugmentEventOnElement)("click",o,`${u}.${d}.button`),disabled:r,"aria-label":s},d),l.default.createElement("button",{className:"button button--primary panel-footer-component__button",onClick:(0,n.useAnalyticsAugmentEventOnElement)("click",t,`${u}.${a}.button`),disabled:i,"aria-label":e},a)));r.propTypes={ariaPrimary:s.default.string.isRequired,clickPrimary:s.default.func.isRequired,disabledPrimary:s.default.bool,textPrimary:s.default.string.isRequired,ariaSecondary:s.default.string.isRequired,clickSecondary:s.default.func.isRequired,disabledSecondary:s.default.bool,textSecondary:s.default.string.isRequired,...o.addAnalyticsProps},r.defaultProps={disabledPrimary:!1,disabledSecondary:!1},t.default=r},"44WZ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={V1:"1.0",V2:"2.0",V3:"3.0"}},"4A+w":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("10lr"));t.default=a.default},"4X8e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("/hmY"),l={error:!1,errorType:""},s=".ok",n=".fail";t.default=function(e=l,t){if(t&&t.type){if(t.type.endsWith(s))return{...e,error:!1,errorType:""};if(t.type.endsWith(n))return{...e,error:!0,errorType:t.err.name};if(t.type===a.SET_FEATURE_FLAGS)return{...e,featureFlags:t.flags};if(t.type===a.CLEAR_ERROR)return{...e,error:!1,errorType:""}}return e}},"5Rl4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Error:"Error",FilePermissionUpdateError:"FilePermissionUpdateError",NotFoundError:"NotFoundError"}},"6m01":function(e,t,i){"use strict";i.r(t)},"70fZ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("esI9"),l=i("EOo6"),s={loading:!0,editIp:!1};t.default=function(e=s,t){if(t.type.startsWith("page.")&&t.type.endsWith(".fail"))return{...e,loading:!1};switch(t.type){case a.PAGE_RECEIVED:return{...e,...t.page,loading:!1};case a.START_PAGE_XHR:return{...e,loading:!0};case(0,l.ok)(a.FETCH_PREFERENCE):return{...e,editIp:t.data.canEdit};case(0,l.ok)(a.PAGE_UPDATE):return{...e,...t.page,loading:!1};default:return e}}},"723v":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("WBPx"),r=a.__importDefault(i("XD08")),d=i("mwK+"),u=({content:e,id:t,title:i,subText:a,customControls:s,onCancel:d,elementToFocusOnDismiss:u,analyticsId:c,isAlert:p})=>{const f=e=>t=>{e.action(t)};return l.default.createElement(r.default,{content:e,id:t,title:i,subText:a,onCancel:d,elementToFocusOnDismiss:u,analyticsId:`${c}`,isAlert:p},l.default.createElement(n.DialogFooter,null,s.map((e,t)=>l.default.createElement(o.AnalyticsDefaultButton,{key:e.text,onClick:f(e),primary:t===s.length-1,className:`js-${e.id}-button`,analyticsId:`${c}.${e.text}.button`},e.text))))};u.propTypes={content:s.default.oneOfType([s.default.string,s.default.element]).isRequired,id:s.default.string.isRequired,title:s.default.string.isRequired,customControls:s.default.arrayOf(s.default.shape({action:s.default.func,text:s.default.string})).isRequired,onCancel:s.default.func,elementToFocusOnDismiss:s.default.element,...d.addAnalyticsProps},u.defaultProps={onCancel:()=>{},elementToFocusOnDismiss:null},t.default=u},"7ayF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=i("9OUN"),s=a.__importDefault(i("Vxko")),n=a.__importDefault(i("70fZ")),o=a.__importDefault(i("+9UM")),r=a.__importDefault(i("4X8e")),d=a.__importDefault(i("Js2N")),u=(0,l.combineReducers)({module:s.default,page:n.default,role:o.default,common:r.default,session:d.default});t.default=u},"83yJ":function(e,t,i){"use strict";i.r(t)},"85zC":function(e,t,i){"use strict";i.r(t)},"8ov0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=a.__importDefault(i("Itin"));i("2tsB");class r extends l.default.Component{constructor(){super(...arguments),this.getLoadingText=()=>this.props.localize.translate("ip.header.loading")}render(){const{backDrop:e}=this.props,t=e?l.default.createElement("div",{className:"loading-icon__back-drop"}):"";return l.default.createElement("div",{className:"loading-icon"},t,l.default.createElement("div",{className:"loading-icon__inner"},l.default.createElement("span",{className:"sr-only"},this.getLoadingText())))}}r.propTypes={backDrop:s.default.bool,localize:o.default},r.defaultProps={backDrop:!1,localize:{}},t.default=(0,n.localizedComponentWrapper)(r)},"8qAH":function(e,t,i){e.exports=i.p+"fb06ab22876178c6578a5011df11fc8a.png"},"9T6f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deletePageVariant=t.ensurePageVariant=t.deletePage=t.updatePages=t.createPageVariant=t.getEffectivePageVariantId=t.getPageVariant=t.getPages=t.getCustomPages=t.canEditFetch=t.reorderModulesPost=t.getCustomPageRoute=void 0;const a=i("D57K"),l=i("ROXL"),s=i("VCOT"),n=a.__importDefault(i("44WZ")),o=a.__importDefault(i("wQ3e"));t.getCustomPageRoute=(e="IP",t=null)=>{const i=`${s.baseRoute}/custom-page?type=${e}`;return t&&"default"!==t?`${i}&variant=${t}`:i};t.reorderModulesPost=(e,t)=>{const i={...(0,l.getFetchOptions)(l.POST,n.default.V2),body:JSON.stringify(t.map(e=>e.id))},a=`${s.baseRoute}/custom-page/${e}/reorder`;return(0,l.fetchReturnBody)(a,i)};t.canEditFetch=(e=n.default.V1,t=null)=>{const i=t&&"default"!==t?`?variantId=${t}`:"",a=`${s.baseRoute}/user/can-edit${i}`;return(0,l.fetchReturnBody)(a,null,!1,e)};t.getCustomPages=(e="IP",t=!0)=>{const i=((e="IP",t=!0)=>`${s.baseRoute}/custom-pages?type=${e}&available=${t}`)(e,t);return(0,l.fetchReturnBody)(i)};t.getPages=(e="IP")=>{const i=(0,t.getCustomPageRoute)(e);return(0,l.fetchReturnBody)(i)};t.getPageVariant=(e="IP",i=null)=>{const a=(0,t.getCustomPageRoute)(e,i);return(0,l.fetchReturnBody)(a).then(e=>e[0])};t.getEffectivePageVariantId=(e,i="IP")=>(0,t.getPageVariant)(i,e).then(t=>t.available?e:null,()=>null);t.createPageVariant=(e,i,a,s)=>{const o=(0,t.getCustomPageRoute)(e),r={type:e,variantId:i,page:{variantName:a,available:s}},d={...(0,l.getFetchOptions)(l.POST,n.default.V2),body:JSON.stringify(r)};return(0,l.fetchReturnBody)(o,d)};t.updatePages=e=>{const t={...(0,l.getFetchOptions)(l.PATCH,n.default.V2),body:JSON.stringify(e)},i=`${s.baseRoute}/custom-page/${e.page.id}`;return(0,l.fetchReturnBody)(i,t)};t.deletePage=e=>{let t=null;"string"==typeof e?t=e:"id"in e&&(t=e.id);const i=`${s.baseRoute}/custom-page/${t}`;return(0,l.fetchReturnBody)(i,(0,l.getFetchOptions)(l.DELETE,n.default.V2))};t.ensurePageVariant=(e,i,a,l)=>i?(0,t.getPageVariant)(e,i).then(e=>((e,i,a)=>e.variantName===i&&e.available===a?Promise.resolve(e):(0,t.updatePages)({page:{id:e.id,variantName:i,available:a}}))(e,a,l),()=>(0,t.createPageVariant)(e,i,a,l)):Promise.resolve(null);t.deletePageVariant=(e,i)=>i?(0,t.getPageVariant)(e,i).then(t.deletePage).catch(e=>{if(e instanceof o.default)return null;throw e}):Promise.resolve(null)},"9XgJ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deletePage=t.ensurePage=t.reorderModules=t.fetchPreferenceAndRoles=t.updatePage=t.pageReceived=t.startPageXhr=t.fetchPage=t.REORDER_MODULES=t.FETCH_PREFERENCE=t.PAGE_DELETE=t.PAGE_UPDATE=t.FETCH_PAGE=t.PAGE_RECEIVED=t.START_PAGE_XHR=void 0;const a=i("D57K"),l=i("VJGu"),s=i("EOo6"),n=a.__importDefault(i("44WZ")),o=a.__importDefault(i("zi9j")),r=i("TuRr");t.START_PAGE_XHR="page.start.xhr",t.PAGE_RECEIVED="page.received",t.FETCH_PAGE="page.fetch",t.PAGE_UPDATE="page.update",t.PAGE_DELETE="page.delete",t.FETCH_PREFERENCE="page.fetch.preference",t.REORDER_MODULES="page.reorder.modules";t.fetchPage=()=>({type:t.FETCH_PAGE,payload:(0,l.getPages)()});t.startPageXhr=()=>({type:t.START_PAGE_XHR});t.pageReceived=e=>({type:t.PAGE_RECEIVED,page:e,receivedAt:Date.now()});t.updatePage=e=>i=>(0,l.updatePages)(e).then(a=>i((0,s.Action)((0,s.ok)(t.PAGE_UPDATE),{data:a,page:e.page}))).catch(a=>(i((0,s.Action)((0,s.fail)(t.PAGE_UPDATE),{err:a,page:e.page})),Promise.reject(o.default.UPDATE_PAGES)));t.fetchPreferenceAndRoles=()=>e=>(0,l.canEditFetch)(n.default.V2).then(i=>{i.canEdit&&(e((0,r.startRoleXhr)()),e((0,r.fetchRoles)())),e((0,s.Action)((0,s.ok)(t.FETCH_PREFERENCE),{data:i}))}).catch(i=>e((0,s.Action)((0,s.fail)(t.FETCH_PREFERENCE),{err:i})));t.reorderModules=(e,i)=>a=>(0,l.reorderModulesPost)(e,i).then(e=>a((0,s.Action)((0,s.ok)(t.REORDER_MODULES),{data:e,reorderedModules:i}))).catch(e=>a((0,s.Action)((0,s.fail)(t.REORDER_MODULES),{err:e})));t.ensurePage=(e,i,a)=>n=>(0,l.ensurePageVariant)("IP",e,i,a).then(e=>n((0,s.Action)((0,s.ok)(t.PAGE_UPDATE),{data:e}))).catch(e=>n((0,s.Action)((0,s.fail)(t.PAGE_UPDATE),{err:e})));t.deletePage=e=>i=>(0,l.deletePageVariant)(e).then(e=>i((0,s.Action)((0,s.ok)(t.PAGE_DELETE),{data:e}))).catch(e=>i((0,s.Action)((0,s.fail)(t.PAGE_DELETE),{err:e})))},"9eHj":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("AjNY"),o=i("mwK+"),r=({index:e,openedTitle:t,closedTitle:i,buttonAriaLabel:a,generateDropdownOptions:s,analyticsId:o})=>l.default.createElement(n.InsertButtonDropdown,{index:e,generateDropdownOptions:s,openedTitle:t,closedTitle:i,ariaLabel:a,analyticsId:`${o}.dropdown`});r.propTypes={index:s.default.number.isRequired,generateDropdownOptions:s.default.func.isRequired,openedTitle:s.default.string.isRequired,closedTitle:s.default.string.isRequired,buttonAriaLabel:s.default.string.isRequired,...o.addAnalyticsProps},t.default=r},"9sa7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("hcyJ"));t.default=a.default},A3AA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseImageLinksModule=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("/qxE"),o=i("myse"),r=i("mwK+"),d=a.__importDefault(i("Glhg")),u=a.__importDefault(i("+YST")),c=a.__importDefault(i("eVMi")),p=a.__importDefault(i("SMbQ")),f=i("Y9wL"),m=a.__importDefault(i("f++J")),h=a.__importDefault(i("zi9j")),g=i("esI9"),_=i("/qxE");i("jZo8");class E extends l.default.Component{constructor(e){super(e),this.onChangeActiveLinkId=e=>this.setState(()=>({activeLinkIndex:this.getLinkIndexById(e)})),this.getLinkResources=e=>e.reduce((e,t)=>(t.type===c.default.LINK&&e.push({imageHref:t.details.imageHref||"",link:t.details.href,title:t.details.title,id:t.id}),e),[]),this.getLinkResourcesWithImage=e=>e.filter(e=>e.imageHref),this.getLinkIndexById=e=>this.state.linkResources.map(e=>e.id).indexOf(e),this.openAllLinksPeek=e=>{const{openAll:t,dispatch:i}=this.props;return i((0,g.checkModuleVisibility)(e)).then(()=>{t(e)}).catch(e=>{if(e!==h.default.GET_MODULE_VISIBILITY)throw e})};const t=this.getLinkResources(e.module.resources),i=this.getLinkResourcesWithImage(t),a=i.length?0:-1;this.state={activeLinkIndex:a,linkResources:t,linkResourcesWithImage:i}}UNSAFE_componentWillReceiveProps(e){if(!(0,n.shallowEqual)(e.module.resources,this.props.module.resources)){const t=this.getLinkResources(e.module.resources),i=this.getLinkResourcesWithImage(t);let a=this.state.activeLinkIndex;-1===a&&i.length?a=0:a>=0&&!i.length&&(a=-1),this.setState(()=>({activeLinkIndex:a,linkResources:t,linkResourcesWithImage:i}))}}render(){const{module:e,analyticsId:t}=this.props;switch((0,_.determineImageOrientation)(e)){case p.default.RIGHT:return l.default.createElement("div",{className:"image-links-component__container-right"},l.default.createElement(u.default,{activeLinkIndex:this.state.activeLinkIndex,items:this.state.linkResources,openAll:this.openAllLinksPeek,changeActiveLinkId:this.onChangeActiveLinkId,maxActiveLinkIndex:this.state.linkResourcesWithImage.length,moduleId:e.id,disableLinks:this.props.preview,customClasses:"link-list-image-right",analyticsId:`${t}.imageOrientationRight.linkList`}),l.default.createElement(d.default,{images:this.state.linkResourcesWithImage,index:this.state.activeLinkIndex}));case p.default.NONE:return l.default.createElement("div",{className:"image-links-component__container"},l.default.createElement(u.default,{items:this.state.linkResources,openAll:this.openAllLinksPeek,moduleId:e.id,disableLinks:this.props.preview,maxColumns:f.NUM_LINK_COLUMNS_WITHOUT_IMAGE,customClasses:"link-list-no-image",analyticsId:`${t}.imageOrientationNone.linkList`}));default:return l.default.createElement("div",{className:"image-links-component__container-left"},l.default.createElement(d.default,{images:this.state.linkResourcesWithImage,index:this.state.activeLinkIndex}),l.default.createElement(u.default,{activeLinkIndex:this.state.activeLinkIndex,items:this.state.linkResources,openAll:this.openAllLinksPeek,changeActiveLinkId:this.onChangeActiveLinkId,maxActiveLinkIndex:this.state.linkResourcesWithImage.length,moduleId:e.id,disableLinks:this.props.preview,customClasses:"link-list-image-left",analyticsId:`${t}.imageOrientationLeft.linkList`}))}}}t.BaseImageLinksModule=E,E.propTypes={module:m.default.isRequired,dispatch:s.default.func.isRequired,openAll:s.default.func.isRequired,preview:s.default.bool,...r.withAnalyticsProps},E.defaultProps={preview:!1};const I=(0,o.withAnalytics)(E);t.default=I},AcBT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("ERsv"),o=a.__importDefault(i("ECta")),r=a.__importDefault(i("r8lX")),d=a.__importDefault(i("f++J")),u=a.__importDefault(i("sxh5")),c=a.__importDefault(i("IMGp")),p=i("mwK+"),f=({dispatch:e,module:t,session:i,onOpenEditImagePanel:a,setUnsavedResources:s,onUpdateDetails:n,onValidateInput:d,pluginsConfig:u,analyticsId:p})=>{switch(t.type){case c.default.LINKS:return l.default.createElement(o.default,{dispatch:e,module:t,session:i,onOpenEditImagePanel:a,setUnsavedResources:s,onUpdateDetails:n,onValidateInput:d,analyticsId:`${p}.imageModule`});case c.default.CONTENT:return l.default.createElement(r.default,{module:t,setUnsavedResources:s,pluginsConfig:u,analyticsId:`${p}`});default:return null}};f.propTypes={dispatch:s.default.func.isRequired,module:d.default.isRequired,session:u.default.isRequired,onOpenEditImagePanel:s.default.func.isRequired,setUnsavedResources:s.default.func.isRequired,onUpdateDetails:s.default.func.isRequired,onValidateInput:s.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,...p.addAnalyticsProps},t.default=f},AjNY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InsertButtonDropdown=t.InsertButton=void 0;const a=i("D57K"),l=a.__importDefault(i("o+Zy"));t.InsertButton=l.default;const s=a.__importDefault(i("yVFQ"));t.InsertButtonDropdown=s.default},BCHA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("yg7m"));t.default=a.default},BgNF:function(e,t,i){"use strict";i.r(t)},Ctxu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("mwK+"),o=a.__importDefault(i("5Rl4")),r=i("Jjaw"),d=a.__importDefault(i("S+y2")),u=({errorType:e,callClearError:t,translate:i,analyticsId:a})=>{switch(e){case o.default.FilePermissionUpdateError:return l.default.createElement(r.CustomPopup,{title:i("ip.filePermissionUpdateError.title"),id:"file-permission-error",subText:i("ip.filePermissionUpdateError.description"),onCancel:t,customControls:[{text:i("ip.filePermissionUpdateError.okBtn"),action:t}],analyticsId:`${a}.filePermissionError`,isAlert:!0});case o.default.Error:return l.default.createElement(r.CustomPopup,{title:i("ip.error.title"),id:"general-error",subText:i("ip.error.description"),content:l.default.createElement("div",null,l.default.createElement("div",{dangerouslySetInnerHTML:{__html:d.default}})),onCancel:t,customControls:[{text:i("ip.editModule.closeBtn"),action:t}],analyticsId:`${a}.generalError`,isAlert:!0});default:return null}};u.propTypes={errorType:s.default.string,callClearError:s.default.func,translate:s.default.func,...n.addAnalyticsProps},t.default=u},Cvga:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("ERsv"),o=i("uDfI"),r=i("FS8K"),d=a.__importDefault(i("PQ/6")),u=a.__importDefault(i("Itin")),c=a.__importDefault(i("ikgf")),p=a.__importDefault(i("k0sS")),f=a.__importDefault(i("RDnQ")),m=a.__importDefault(i("IMGp"));i("XAad");const h=i("esI9"),g=a.__importDefault(i("jo9/")),_=a.__importDefault(i("YdOI")),E=a.__importDefault(i("nvyO")),I=i("Jjaw"),y=a.__importDefault(i("FpXu")),b=a.__importDefault(i("zj7q")),D=a.__importDefault(i("SWpbs")),R=a.__importDefault(i("1AJA")),v=a.__importDefault(i("Gtcp")),P=i("/qxE"),C=i("0x+l"),M=a.__importDefault(i("gdCT")),L="dropdown-toggle";class k extends l.default.Component{constructor(e){super(e),this.onPopupOk=()=>{const{dispatch:e}=this.props,{savedId:t}=this.state;this.setState({isShowPopup:!1,savedId:null,showContentCollectionWarning:!1}),e((0,h.startModuleXhr)()),e((0,h.removeModule)(t))},this.onPopupCancel=()=>{this.setState({isShowPopup:!1})},this.onDeleteModule=e=>{const t=this.props.module.modules.find(t=>t.id===e),i=t.type===m.default.LINKS&&t.resources.some(e=>!!e.details.imageId);this.setState(()=>({isShowPopup:!0,savedId:e,showContentCollectionWarning:i}))},this.onSwitchPage=(e,t)=>{this.props.onSwitchPage(e.variantId||"default"),this.setState({currentPageIndex:t})},this.onSwitchMode=(e,t,i)=>{this.setState({mode:e,currentViewerIndex:t,filterKey:i})},this.onReorderModules=(e,t)=>{this.props.dispatch((0,h.reorderModules)(this.props.page.id,e)).then(()=>{document.getElementById(`dnd-${t.id}`).focus()})},this.onModifyImage=e=>{const{openEditPageImage:t}=this.props;t(e)},this.onUpdateTitle=(e,t)=>{const{dispatch:i,page:a}=this.props;if((0,P.validateTooLong)(t).isValid){i((0,h.startPageXhr)());const e={page:{id:a.id,title:(0,P.trimStringValues)(t)}};return i((0,h.updatePage)(e)).then(()=>{document.getElementById("ip-headline-title").focus()})}return Promise.resolve()},this.getRolesToImpersonate=(e,t)=>{if(!e||!t)return[];let i=[];return t.forEach(t=>{t.institutionRoleIds&&(i=t.institutionRoleIds.reduce((t,i)=>{if(!t.some(e=>e.roleKey===i)){const a=e.filter(e=>e.roleKey===i)[0];a&&t.push({roleKey:a.roleKey,roleName:a.roleName})}return t},i))}),i.sort((e,t)=>{const i=e.roleName.toLowerCase(),a=t.roleName.toLowerCase();return i<a?-1:a<i?1:0})},this.generateAudienceLabel=e=>{const t=this.props.localize.translate("ip.moduleList.allUsers"),i=this.props.localize.translate("ip.moduleList.multipleRoles");return(0,P.generateAudienceLabel)(e,this.props.role.roles,t,i)},this.areRolesValid=e=>(0,P.areRolesValid)(e,this.props.role.roles||[]),this.syncSequence=(e,t)=>{let i=!1;for(let a=0;a<t.length;a++){const l=t[a];if(e.sequence===l.sequence&&e.id!==l.id){i=!0;break}}i&&t.forEach(t=>{if(t.sequence>=e.sequence&&e.id!==t.id){t.sequence+=1}})},this.checkModuleIsValid=e=>!(!e.resources||0===e.resources.length)&&(!(!e.title||""===e.title)&&void 0!==e.available),this.createModuleDropdownOptions=e=>[{key:e,name:this.translation.optionCreateFeaturedLinksModuleText,className:"dropdown__toggle-text",onClick:()=>{this.overrideFocusAndOpenCreate(m.default.LINKS,e)},icon:l.default.createElement(C.Link,null)},{key:e,name:this.translation.optionCreateCustomContentModuleText,className:"dropdown__toggle-text",onClick:()=>{this.overrideFocusAndOpenCreate(m.default.CONTENT,e)},icon:l.default.createElement(C.CustomContent,null)}],this.filterModulesPreview=e=>{const t=e.available&&!(e.institutionRoleIds&&e.institutionRoleIds.length);return""===this.state.filterKey?t:t||e.available&&e.institutionRoleIds&&e.institutionRoleIds.includes(this.state.filterKey)},this.overrideFocusAndOpenCreate=(e,t)=>{let i=".modules-container .js-module-create-button";if(t){let e=this.props.module.modules.length;for(let i=0;i<this.props.module.modules.length;i++){if(this.props.module.modules[i].sequence>=t){e=i;break}}i=`.module-section:nth-of-type(${e}) .institution-page__create-new-bar:last-of-type`}this.props.setFocusOverride(i,".institution-page-container"),this.props.openCreate(e,t)},this.overrideFocusAndOpenEdit=(e,t=!1)=>{this.props.setFocusOverride(`#dnd-${e} .module-wrapper__header-right .${L}`,".institution-page-container"),this.props.openEdit(e,t)},this.state={mode:"edit",currentPageIndex:0,currentViewerIndex:0,isShowPopup:!1,savedId:null,showContentCollectionWarning:!1,filterKey:"",rolesToImpersonate:this.getRolesToImpersonate(e.role.roles,e.module.modules)}}UNSAFE_componentWillReceiveProps(e){if(e.role.roles===this.props.role.roles&&e.module.modules===this.props.module.modules||this.setState(()=>({rolesToImpersonate:this.getRolesToImpersonate(e.role.roles,e.module.modules)})),e.variantOptions&&e.variantOptions.length>0){const t=e.variantOptions.findIndex(t=>e.page.variantId?e.page.variantId===t.variantId:!t.variantId);if(t<0)throw new Error("institution-page: Check your configuration. The variantOptions provided do not include a brand that matches the variant or a default brand.");t!==this.state.currentPageIndex&&this.setState(()=>({currentPageIndex:t}))}}render(){const{common:e,dispatch:t,page:i,module:a,openAll:s,localize:n,openSettings:o,pluginsConfig:r,variantOptions:d,mode:u}=this.props,c=n.translate,p="institutionPage.home";this.translation={moduleName:c("ip.defaultData.moduleName"),imageResourceTitle:c("ip.defaultData.imageResourceTitle"),imageResourceDescription:c("ip.defaultData.imageResourceDescription"),optionCreateFeaturedLinksModuleText:c("ip.moduleList.createFeaturedLinksModuleText"),optionCreateCustomContentModuleText:c("ip.moduleList.createCustomContentModuleText"),insertButtonTitle:c("ip.moduleList.createModuleText"),defaultLinkTitle:c("ip.defaultData.linkName")};const f=()=>{t((0,h.clearError)())};if(a.loading&&!a.modules||i.loading&&!i.id)return l.default.createElement("div",{className:"index-container"},e.error&&l.default.createElement(v.default,{errorType:e.errorType,callClearError:f,translate:c,analyticsId:`${p}.error.popup`}),l.default.createElement(E.default,null));const m=a.modules.filter(this.checkModuleIsValid),P=a.modules.filter(e=>!this.checkModuleIsValid(e));let C;m&&(C="preview"===this.state.mode?m.filter(this.filterModulesPreview):m);const k="admin"===u&&i.editIp&&"edit"===this.state.mode,O=c(k?"ip.moduleList.noModuleTitleAdmin":"ip.moduleList.noModuleTitleAll"),T=c(k?"ip.moduleList.noModuleDescAdmin":"ip.moduleList.noModuleDescAll"),S=c("ip.moduleList.createFirstText"),A=c("ip.moduleList.createFirstModuleAria");let N;const w=P.filter(e=>k||!1!==e.available);N=C&&C.length>0?l.default.createElement(R.default,{items:C,onReorderItem:this.onReorderModules,scrollContainerId:"home-modules-section",editable:k,createModuleDropdownOptions:this.createModuleDropdownOptions,openEdit:this.overrideFocusAndOpenEdit,onDelete:this.onDeleteModule,dispatch:this.props.dispatch,locale:this.props.currentLocale,openAll:s,pluginsConfig:r,generateAudienceLabel:this.generateAudienceLabel,areRolesValid:this.areRolesValid,moreOptionsClassName:L,analyticsId:`${p}.homeModuleSection`}):0===w.length?l.default.createElement(y.default,{headline:O,image:M.default,description:T,permission:k,buttonText:S,buttonAriaLabel:A,generateDropdownOptions:this.createModuleDropdownOptions,areRolesValid:this.areRolesValid,analyticsId:`${p}.heroZeroMessage`}):k?l.default.createElement(D.default,{createModule:this.onCreateFirstModule,buttonAriaLabel:n.translate("ip.moduleList.createFirstModuleAria"),generateDropdownOptions:this.createModuleDropdownOptions,closedTitle:n.translate("ip.moduleList.createModuleText"),openedTitle:n.translate("ip.moduleList.createModuleCancel"),index:0,analyticsId:`${p}.insertModule`}):"";const x=w.map((e,t)=>l.default.createElement(b.default,{key:e.id,title:c("ip.error.moduleLoadTitle"),size:"medium",description:c("ip.error.moduleLoadDescription"),bottomMargin:!k||t!==w.length-1})),q=a.loading&&a.modules||i.loading&&i.id?l.default.createElement(E.default,{backDrop:!0}):"",U="admin"===u&&i.editIp?l.default.createElement(g.default,{currentPageIndex:this.state.currentPageIndex,currentViewerIndex:this.state.currentViewerIndex,onSwitchPage:this.onSwitchPage,onSwitchMode:this.onSwitchMode,onClickSettingsButton:o,localize:n,variantId:i.variantId,viewerRoles:this.state.rolesToImpersonate,variantOptions:d,analyticsId:`${p}.header`}):"",z={popupTitle:c("ip.moduleList.deleteModuleTitle"),popupContent:c("ip.moduleList.deleteModuleContent"),popupContentWithWarning:c("ip.moduleList.deleteModuleContentCollectionWarning"),popupConfirm:c("ip.moduleList.deletePopupConfirm"),popupCancel:c("ip.moduleList.deletePopupCancel")},K={editBannerTitle:c("ip.banner.editBannerTitle"),editLogoTitle:c("ip.banner.editLogoTitle"),editIPTitle:c("ip.banner.editIPTitle"),invalidLongTitle:c("ip.editModule.validateTooLongMessage")},V=l.default.createElement("div",{className:`flex-page-container${k?" ip-editable":""}`},e.error&&l.default.createElement(v.default,{errorType:e.errorType,callClearError:f,translate:c,analyticsId:`${p}.error.popup`}),q,this.state.isShowPopup?l.default.createElement(I.ConfirmationPopup,{title:z.popupTitle,id:"module-delete-confirmation",content:this.state.showContentCollectionWarning?z.popupContentWithWarning:z.popupContent,onOk:this.onPopupOk,onCancel:this.onPopupCancel,onOkText:z.popupConfirm,onCancelText:z.popupCancel,analyticsId:`${p}.confirmation.popup`}):"",U,l.default.createElement("div",{id:"home-modules-section",className:"flex-page-content"},l.default.createElement(_.default,{bgUrl:i.bannerId,logoUrl:i.logoId,title:i.title||"",permission:k,onModifyImage:this.onModifyImage,onUpdateTitle:this.onUpdateTitle,localeText:K,analyticsId:`${p}.banner`}),l.default.createElement("div",{className:"modules-container"},x,N)));return l.default.createElement("div",{className:"index-container"},V)}}k.propTypes={dispatch:s.default.func.isRequired,module:c.default.isRequired,page:p.default.isRequired,role:f.default.isRequired,common:d.default.isRequired,openAll:s.default.func,openEdit:s.default.func,openEditPageImage:s.default.func,openCreate:s.default.func.isRequired,openSettings:s.default.func,setFocusOverride:s.default.func.isRequired,localize:u.default,currentLocale:s.default.string.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,variantOptions:s.default.arrayOf(s.default.shape({variantId:s.default.string,variantName:s.default.string.isRequired})),onSwitchPage:s.default.func,mode:s.default.string},k.defaultProps={localize:{},openAll:null,openEdit:null,openEditPageImage:null,openSettings:null,variantOptions:[],onSwitchPage:null,mode:null};const O=(0,o.connect)(e=>({page:e.page,module:e.module,role:e.role,common:e.common,entitlement:e.entitlement}))((0,r.localizedComponentWrapper)(k));t.default=O},Cy0f:function(e,t,i){"use strict";i.r(t)},"D/7O":function(e,t,i){"use strict";i.r(t)},DGv8:function(e,t,i){"use strict";i.r(t)},DVRQ:function(e,t,i){e.exports=i.p+"9a6b429b7034050cdfe16b9f706d094a.png"},ECta:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("LpB7"));t.default=a.default},EOo6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fail=t.ok=t.Action=void 0;t.Action=(e,t)=>({type:e,...t});t.ok=e=>`${e}.ok`;t.fail=e=>`${e}.fail`},EQ5u:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.determineImageOrientation=t.isValidImageOrientation=t.getImageOrientation=void 0;const a=i("D57K"),l=i("cyZD"),s=a.__importDefault(i("SMbQ"));t.getImageOrientation=e=>e&&e.details&&e.details.imageOrientation;t.isValidImageOrientation=e=>(0,l.values)(s.default).includes(e);t.determineImageOrientation=e=>{const i=(0,t.getImageOrientation)(e);return(0,t.isValidImageOrientation)(i)?i:s.default.LEFT}},EpEV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=i("9OUN"),s=a.__importDefault(i("V8Kl")),n=a.__importDefault(i("7ayF"));t.default=()=>(0,l.createStore)(n.default,(0,l.applyMiddleware)(s.default))},FpXu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("Z1WF"));t.default=a.default},Glhg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("xl5r"));t.default=a.default},GnJb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("ZMA0"));t.default=a.default},Gtcp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("Ctxu"));t.default=a.default},HJ8W:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExistingModuleSelector=t.SessionModuleSelector=void 0;var l=i("uA9R");Object.defineProperty(t,"SessionModuleSelector",{enumerable:!0,get:function(){return a(l).default}});var s=i("lTgO");Object.defineProperty(t,"ExistingModuleSelector",{enumerable:!0,get:function(){return a(s).default}})},IMGp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LINKS:"LINKS",CONTENT:"CONTENT"}},INmU:function(e,t,i){"use strict";i.r(t)},Itin:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({babelfishFormat:a.default.shape(),babelfish:a.default.shape(),locale:a.default.string,translate:a.default.func,formatCurrency:a.default.func,formatDate:a.default.func,formatDatetime:a.default.func,formatDuration:a.default.func,formatItems:a.default.func,formatNumber:a.default.func,formatPercentage:a.default.func,formatTime:a.default.func,formatTimezone:a.default.func,formatUsername:a.default.func,formatUsernameList:a.default.func})},J2Nh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultPostDataWithTempIds=t.createDefaultPostData=t.defaultLinkResourceData=t.createDefaultModuleData=void 0;const a=i("D57K"),l=i("fN3Q"),s=a.__importDefault(i("IMGp")),n=a.__importDefault(i("eVMi")),o=a.__importDefault(i("SMbQ"));t.createDefaultModuleData=(e="",t)=>{return{available:!1,type:t,title:e,details:{},institutionRoleIds:[]}};t.defaultLinkResourceData=(e,t)=>{const i={};return t&&(i.id=(0,l.v1)(),i.moduleId=t),{...i,type:n.default.LINK,available:!0,sequence:2,details:{href:"https://www.blackboard.com",title:e,imageHref:""}}};const r=[{href:"https://www.google.com",title:"Google"},{href:"https://www.bing.com",title:"Bing"},{href:"https://www.youtube.com",title:"YouTube"},{href:"https://www.facebook.com",title:"Facebook"},{href:"https://www.instagram.com",title:"Instagram"}],d=(e="")=>({type:n.default.CONTENT,available:!0,sequence:1,details:{bbml:e}});t.createDefaultPostData=(e,i)=>{const a=(0,t.createDefaultModuleData)(i.moduleName,e);let l=[];switch(e){case s.default.LINKS:{const e=(0,t.defaultLinkResourceData)(i.defaultLinkTitle),s=r.map((t,i)=>({...e,details:{...e.details,...t},sequence:i+2}));a.details.imageOrientation=o.default.LEFT,l=s;break}case s.default.CONTENT:l=[d("")];break;default:return{}}return{module:a,resources:l}};t.createDefaultPostDataWithTempIds=(e,i)=>{const a=(0,t.createDefaultPostData)(e,i);a.module.id=(0,l.v1)();const s=a.resources.map(e=>({...e,id:(0,l.v1)(),moduleId:a.module.id}));return a.resources=s,a}},JD1a:function(e,t,i){"use strict";i.r(t)},JPMN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("5Rl4"));class l extends Error{constructor(e){super(e),this.name=a.default.FilePermissionUpdateError}}t.default=l},Jjaw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPopup=t.ConfirmationPopup=void 0;const a=i("D57K"),l=a.__importDefault(i("wxmE"));t.ConfirmationPopup=l.default;const s=a.__importDefault(i("723v"));t.CustomPopup=s.default},Js2N:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("Nv5w"),l={image:void 0,module:void 0};t.default=function(e=l,t){switch(t.type){case a.SET_SESSION_IMAGE:return{...e,image:t.resource};case a.SET_SESSION_MODULE:return{...e,module:t.module};case a.CLEAR_SESSION_DATA:return{...e,image:void 0,module:void 0};default:return e}}},KULn:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("ERsv"),r=a.__importDefault(i("YrlB")),d=a.__importDefault(i("zj7q")),u=a.__importDefault(i("Itin")),c=a.__importDefault(i("f++J"));i("TWbI");class p extends l.default.Component{constructor(e){super(e),this.editorContentChanged=e=>{if(this.hasContentChanged=this.hasContentChanged||e.isDirty,this.hasContentChanged){const t=e.toBbML(),i=[{...this.props.module.resources[0],details:{...this.props.module.resources[0].details,bbml:t}}];t?t&&this.state.errorMessage&&this.setState(()=>({errorMessage:null})):this.setState(()=>({errorMessage:this.translations.errorMessage})),this.props.setUnsavedResources(i,!!t)}},this.translations={},this.state={errorMessage:null},this.hasContentChanged=!1}render(){const e=this.props.localize.translate;return this.translations.errorMessage=e("ip.editModule.validateContent"),l.default.createElement("div",{className:"edit-content-module"},l.default.createElement("h4",{className:"edit-content-module__section-heading"},e("ip.editModule.moduleContent")),l.default.createElement("div",{className:"content-editor bb-editor-fill"},l.default.createElement(r.default,{startingBBML:this.props.module.resources[0].details.bbml,onChange:this.editorContentChanged,locale:this.props.currentLocale,localize:this.props.localize,pluginsConfig:this.props.pluginsConfig})),this.state.errorMessage?l.default.createElement("div",{className:"edit-content-module-error"},l.default.createElement(d.default,{size:"small",title:this.state.errorMessage})):"")}}p.propTypes={module:c.default.isRequired,setUnsavedResources:s.default.func.isRequired,localize:u.default.isRequired,currentLocale:s.default.string.isRequired,pluginsConfig:o.optionalPluginConfigPropTypes.isRequired},t.default=(0,n.localizedComponentWrapper)(p)},Kw3a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=a.__importDefault(i("nvyO"));i("85zC");const o=i("DVRQ");class r extends l.default.Component{constructor(e){super(e),this.loadImage=e=>{if(e){const t=new Image;t.src=e,this.setState(()=>({isLoading:!0})),t.onload=()=>{this.setState(()=>({isLoading:!1,isError:!1}))},t.onerror=()=>{this.setState(()=>({isLoading:!1,isError:!0}))}}},this.state={isLoading:!1,isError:!1}}componentDidMount(){this.loadImage(this.props.imgUrl)}UNSAFE_componentWillReceiveProps(e){const{imgUrl:t}=e;this.props.imgUrl!==t&&this.loadImage(t)}render(){if(this.state.isLoading)return l.default.createElement(n.default,null);const e={backgroundImage:`url('${this.state.isError||!this.props.imgUrl?o:this.props.imgUrl}')`};return l.default.createElement("div",{className:`module-overview-component ${this.props.customClass}`,style:e},(this.props.title.length>0||this.props.desc.length>0)&&l.default.createElement("div",{className:"module-overview-component__overlay"},l.default.createElement("h2",{className:"subheader module-overview-component__headline",title:this.props.title},this.props.title),l.default.createElement("p",{className:"module-overview-component__description",title:this.props.desc},this.props.desc)))}}r.propTypes={imgUrl:s.default.string.isRequired,title:s.default.string,desc:s.default.string,customClass:s.default.string},r.defaultProps={title:"",desc:"",customClass:""},t.default=r},"Ll+A":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("1B2r"));t.default=a.default},LpB7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("mwK+");i("tZzz");const r=i("esI9"),d=i("VJGu"),u=a.__importDefault(i("PzNH")),c=i("AjNY"),p=a.__importDefault(i("qi89")),f=i("Jjaw"),m=a.__importDefault(i("Itin")),h=a.__importDefault(i("f++J")),g=a.__importDefault(i("sxh5")),_=a.__importDefault(i("eVMi")),E=a.__importDefault(i("SMbQ")),I=i("Y9wL"),y=i("/qxE");class b extends l.default.Component{constructor(e){super(e),this.onReorderLinks=(e,t)=>{const i=this.props.module.resources.filter(e=>!this.isLinkResource(e)),a=this.props.module.resources.filter(t=>this.isLinkResource(t)&&!e.includes(t)),l=[...a[0]&&a[0].details.imageHref?[...a,...e]:[...e,...a],...i];this.props.setUnsavedResources(l,this.validateResources(l),()=>{document.getElementById(`dnd-${t.id}`).focus()})},this.onUpdateResource=(e,t,i)=>{const a=this.props.module.resources.findIndex(t=>t.id===e);if(-1!==a&&t!==this.props.module.resources[a].details[i]){const l=this.props.module.resources.map((e,l)=>l===a?{...e,details:{...e.details,[i]:t}}:e);this.props.setUnsavedResources(l,this.validateResources(l),()=>{const t=document.getElementById(`${e}-${i}`);t&&t.focus()})}},this.onDelete=(e,t)=>{e.preventDefault();const i=this.props.module.resources,a=i.findIndex(e=>e.id===t),l=[...i.slice(0,a),...i.slice(a+1)];this.props.setUnsavedResources(l,this.validateResources(l),()=>{this.jumpToFocus(a-1)})},this.onInsertLink=(e,t)=>{e.preventDefault();const i=this.props.module.resources,a=(0,d.defaultLinkResourceData)(this.translations.defaultLinkTitle,this.props.module.id),l=i.filter(this.isLinkResource),s=this.props.module.resources.filter(e=>!this.isLinkResource(e)),n=this.props.module.resources.filter(e=>this.isLinkResource(e)&&e.details.imageHref).length,o=n>t?n:t,r=[...l.slice(0,o),a,...l.slice(o),...s];this.props.setUnsavedResources(r,this.validateResources(r),()=>{this.jumpIntoFocusNewLink(o)})},this.onImageOrientationToggleClick=e=>{const t=(0,y.getImageOrientation)(this.props.module);if(e!==t){const i={...this.props.module.details,imageOrientation:e},a=this.saveOrRestoreImageHrefs(t,e);this.props.onUpdateDetails(i,(0,y.isValidImageOrientation)(i.imageOrientation)),this.props.setUnsavedResources(a,this.validateResources(a))}},this.onDeleteEditLinkImage=(e,t)=>{this.setState(()=>({resourceId:t,isShowPopup:!0}))},this.onOpenEditLinkImage=(e,t)=>{this.props.dispatch((0,r.setSessionImage)(t)),this.props.onOpenEditImagePanel(t)},this.onPopupCancel=()=>{this.setState(()=>({resourceId:null,isShowPopup:!1}))},this.onPopupOk=()=>{const e=this.props.module.resources.map(e=>e.id===this.state.resourceId?{...e,details:{...e.details,imageHref:"",imageId:""}}:e);this.props.setUnsavedResources(e,this.validateResources(e)),this.setState({resourceId:null,isShowPopup:!1}),this.props.dispatch((0,r.setSessionImage)(null))},this.saveOrRestoreImageHrefs=(e,t)=>{this.props.dispatch((0,r.setSessionImage)(null));const i=[],a=t===E.default.NONE,l=e===E.default.NONE;for(let e=0;e<this.props.module.resources.length;e++){let t=this.props.module.resources[e];this.isLinkResource(t)&&(a&&t.details.imageHref?(this.resourceImages[t.id]={imageHref:t.details.imageHref,imageId:t.details.imageId},t={...t,details:{...t.details,imageHref:"",imageId:""}}):l&&(t={...t,details:{...t.details,imageHref:this.resourceImages[t.id]?this.resourceImages[t.id].imageHref:"",imageId:this.resourceImages[t.id]?this.resourceImages[t.id].imageId:""}},delete this.resourceImages[t.id]),i.push(t))}return i},this.isImageResource=e=>e.type===_.default.IMAGE,this.isLinkResource=e=>e.type===_.default.LINK,this.hasValidTitleAndHref=e=>this.props.onValidateInput(e.details.title).isValid&&(0,y.validateIsEmpty)(e.details.href).isValid,this.jumpToFocus=e=>{let t=e;-1===t&&(t=0);const i=document.querySelectorAll("#modules-section .module-table__row-container .module-table__row")[t];i&&i.focus()},this.jumpIntoFocusNewLink=e=>{let t=e;-1===t&&(t=0);const i=document.querySelectorAll("#modules-section .module-table__row-container .module-table__row")[t];if(i){const e=i.querySelector(".inline-edit-container__link");e&&e.click()}},this.validateResources=e=>e.length&&e.filter(this.isLinkResource).every(e=>this.hasValidTitleAndHref(e)),this.translations={},this.state={resourceId:null,isShowPopup:!1},this.resourceImages={}}UNSAFE_componentWillReceiveProps(e){let t=!1,i=e.module.resources;const a=[];if(!(0,y.getImageOrientation)(e.module)){const t={...e.module.details,imageOrientation:E.default.LEFT};e.onUpdateDetails(t,(0,y.isValidImageOrientation)(t.imageOrientation))}const l=e.session.image;if(l){const e=l.details?l.details.imageHref:null;i=i.map(i=>i.id===l.id&&e!==i.details.imageHref?(t=!0,l):i)}const s=[],n=[],o=[];let r=-1,d=!1;for(let e=0;e<i.length;e++){const t=i[e];this.isLinkResource(t)?t.details.imageHref?(d=r>=0&&e>r,n.push(t)):(r<0&&(r=e),o.push(t)):s.push(t)}if(d&&(i=[...n,...o,...s],t=!0),i.some(e=>this.isImageResource(e))&&(i=i.filter(e=>!this.isImageResource(e)),t=!0),t){const t=[...i,...a];e.setUnsavedResources(t,this.validateResources(t))}}render(){const e=this.props.localize.translate,{analyticsId:t}=this.props;this.translations.createLinkBtn=e("ip.editModule.createLinkBtn"),this.translations.validateModuleName=e("ip.editModule.validateModuleName"),this.translations.validateTooLongMessage=e("ip.editModule.validateTooLongMessage"),this.translations.splitSectionText=e("ip.editModule.splitSectionText"),this.translations.incompleteLink=e("ip.editModule.incompleteLink"),this.translations.incompleteContent=e("ip.editModule.incompleteContent"),this.translations.defaultLinkTitle=e("ip.defaultData.linkName");const i=(0,y.determineImageOrientation)(this.props.module),a=i!==E.default.NONE,s=[],n=[];for(let e=0;e<this.props.module.resources.length;e++){const t=this.props.module.resources[e];this.isLinkResource(t)&&(t.details.imageHref&&a?s.push(t):n.push(t))}const o=s.length>=I.MAX_IMAGE_LINKS,r=l.default.createElement("div",null,0===s.length&&0===n.length&&l.default.createElement(c.InsertButton,{onClick:e=>{this.onInsertLink(e,0)},buttonTitle:this.translations.createLinkBtn,analyticsId:`${t}`}),s.length>0&&l.default.createElement(p.default,{items:s,hasMaxImages:o,isImageColVisible:a,onReorderItem:this.onReorderLinks,scrollContainerId:"edit-module-section",translations:this.translations,onUpdateResource:this.onUpdateResource,onValidateInput:this.props.onValidateInput,onDelete:this.onDelete,onInsertLink:this.onInsertLink,maxLinksViewable:I.MAX_LINKS_PER_COLUMN*(i===E.default.NONE?I.NUM_LINK_COLUMNS_WITHOUT_IMAGE:I.NUM_LINK_COLUMNS_WITH_IMAGE),onDeleteEditLinkImage:this.onDeleteEditLinkImage,onOpenEditLinkImage:this.onOpenEditLinkImage,analyticsId:`${t}.editSection`}),n.length>0&&l.default.createElement(p.default,{items:n,itemOffset:s.length,hasMaxImages:o,isImageColVisible:a,onReorderItem:this.onReorderLinks,scrollContainerId:"edit-module-section",translations:this.translations,onUpdateResource:this.onUpdateResource,onValidateInput:this.props.onValidateInput,onDelete:this.onDelete,onInsertLink:this.onInsertLink,maxLinksViewable:I.MAX_LINKS_PER_COLUMN*(i===E.default.NONE?I.NUM_LINK_COLUMNS_WITHOUT_IMAGE:I.NUM_LINK_COLUMNS_WITH_IMAGE),onDeleteEditLinkImage:this.onDeleteEditLinkImage,onOpenEditLinkImage:this.onOpenEditLinkImage,analyticsId:`${t}.editSection`}));return l.default.createElement("div",{className:"edit-image-links-module"},this.state.isShowPopup?l.default.createElement(f.ConfirmationPopup,{title:e("ip.editPage.confirmDeleteTitle"),id:"inline-link-image-delete-confirmation",content:e("ip.editPage.confirmRemoveImageContentWarning"),onOk:this.onPopupOk,onOkText:e("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:e("ip.editPage.cancelDeleteBtn"),analyticsId:`${t}.confirmation.popup`}):"",l.default.createElement("div",null,l.default.createElement("h4",{className:"subheader edit-image-links-module__section-heading"},e("ip.editModule.moduleLayout")),l.default.createElement(u.default,{onChanged:this.onImageOrientationToggleClick,selectedId:i,analyticsId:`${t}.imageOrientation.toggle`})),l.default.createElement("h4",{className:"subheader edit-image-links-module__section-heading"},e("ip.editModule.moduleContent")),l.default.createElement("div",{className:"module-table"},l.default.createElement("div",{className:"module-table__head module-content__head"},l.default.createElement("div",{className:"module-table__heading-row"},a&&l.default.createElement("div",{className:"module-table__heading module-content__link-image-column"},e("ip.editModule.contentLinkImage")),l.default.createElement("div",{className:"module-table__heading module-content__name-column"},e("ip.editModule.contentLinkName")),l.default.createElement("div",{className:"module-table__heading module-content__url-column"},e("ip.editModule.contentURL")),l.default.createElement("div",{className:"module-table__row-actions"}))),r))}}b.propTypes={dispatch:s.default.func.isRequired,module:h.default.isRequired,session:g.default.isRequired,setUnsavedResources:s.default.func.isRequired,onOpenEditImagePanel:s.default.func.isRequired,onUpdateDetails:s.default.func.isRequired,onValidateInput:s.default.func.isRequired,localize:m.default.isRequired,...o.addAnalyticsProps},t.default=(0,n.localizedComponentWrapper)(b)},MQEB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLinkResourceRow=t.LocalizedLinkResourceRow=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=a.__importDefault(i("7O4Y")),o=i("myse"),r=i("0x+l"),d=i("FS8K"),u=a.__importDefault(i("4A+w")),c=a.__importDefault(i("Itin")),p=a.__importDefault(i("ibPM")),f=i("AjNY"),m=a.__importDefault(i("GnJb")),h=i("/qxE"),g=i("mwK+");class _ extends l.default.Component{constructor(e){super(e),this.validateLinkNameInput=e=>this.props.onValidateInput(e,this.translations.linkNamePlaceholder,this.translations.validateTooLongMessage),this.validateLinkNameInput=e=>this.props.onValidateInput(e,this.translations.linkNamePlaceholder,this.translations.validateTooLongMessage),this.validateLinkURLInput=e=>(0,h.validateIsEmpty)(e,this.translations.linkURLPlaceholder),this.handleAddLinkButtonClick=e=>this.props.onInsertLink(e,this.props.rowIndex+1+this.props.offset),this.handleDeleteButtonClick=e=>this.props.onDelete(e,this.props.link.id),this.handleOpenEditLinkImageButtonClick=e=>this.props.onOpenEditLinkImage(e,this.props.link),this.handleDeleteLinkImageButtonClick=e=>this.props.onDeleteEditLinkImage(e,this.props.link.id),this.translations={}}render(){const{link:e,dragPointRef:t,localize:i,canBeReordered:a,onUpdateResource:s,hasMaxImages:d,isImageColVisible:c,analyticsId:p,analyticsEventAugmentor:h}=this.props,g=i.translate;this.translations.validateTooLongMessage=g("ip.editModule.validateTooLongMessage"),this.translations.linkNamePlaceholder=g("ip.editModule.linkNamePlaceholder"),this.translations.linkURLPlaceholder=g("ip.editModule.linkURLPlaceholder"),this.translations.createLinkBtn=g("ip.editModule.createLinkBtn");const _=e.details.title,E=(0,n.default)({"module-table__button":!0,"drag-point":!0,hidden:!a});return l.default.createElement("div",{className:"module-table__row-container",id:`dnd-${e.id}`,key:e.id},l.default.createElement("div",{className:"module-table__row module-content__row drag-drop-item__highlight-area",tabIndex:-1},l.default.createElement("div",{className:"module-table__cells module-content__cells"},c&&l.default.createElement(m.default,{link:e,hasMaxImages:d,handleOpenEditLinkImageButtonClick:this.handleOpenEditLinkImageButtonClick,handleDeleteLinkImageButtonClick:this.handleDeleteLinkImageButtonClick,buttonTitle:_,analyticsId:`${p}.imageEdit`}),l.default.createElement("div",{className:"module-table__cell module-content__name-column"},l.default.createElement(u.default,{id:e.id,content:e.details.title,attr:"title",buttonTitle:g("ip.editModule.editLinkName",{linkName:_}),onValueChange:s,onValidateInput:this.validateLinkNameInput,placeholder:this.translations.linkNamePlaceholder,analyticsId:`${p}.titleEdit`})),l.default.createElement("div",{className:"module-table__cell module-content__url-column"},l.default.createElement(u.default,{id:e.id,content:e.details.href,attr:"href",buttonTitle:g("ip.editModule.editLinkURL",{linkName:_}),onValueChange:s,onValidateInput:this.validateLinkURLInput,placeholder:this.translations.linkURLPlaceholder,analyticsId:`${p}.urlEdit`}))),l.default.createElement("div",{className:"module-table__row-actions module-content__buttons"},l.default.createElement("div",{ref:t,className:E,draggable:!0,role:"button",tabIndex:"0",id:`${e.id}-drag-point`,"aria-label":g("ip.editModule.moveLinkBtn",{linkName:_})},l.default.createElement(r.MoveItemUpDown,null)),l.default.createElement("button",{onClick:h(o.AnalyticsEventTypes.CLICK_EVENT,this.handleDeleteButtonClick,`${p}.delete-item.button`),className:"module-table__button","aria-label":g("ip.editModule.deleteLinkBtn",{linkName:_})},l.default.createElement(r.Trash,null)))),l.default.createElement(f.InsertButton,{onClick:this.handleAddLinkButtonClick,buttonTitle:this.translations.createLinkBtn,analyticsId:`${p}`}))}}t.BaseLinkResourceRow=_,_.defaultProps={offset:0,onDeleteEditLinkImage:()=>{},onOpenEditLinkImage:()=>{},hasMaxImages:!1,isImageColVisible:!0},_.propTypes={link:p.default.isRequired,rowIndex:s.default.number.isRequired,offset:s.default.number,localize:c.default.isRequired,canBeReordered:s.default.bool.isRequired,onDelete:s.default.func.isRequired,onUpdateResource:s.default.func.isRequired,onInsertLink:s.default.func.isRequired,onDeleteEditLinkImage:s.default.func,onOpenEditLinkImage:s.default.func,onValidateInput:s.default.func.isRequired,dragPointRef:s.default.func.isRequired,hasMaxImages:s.default.bool,isImageColVisible:s.default.bool,...g.withAnalyticsProps};const E=(0,d.localizedComponentWrapper)(_);t.LocalizedLinkResourceRow=E,t.default=(0,o.withAnalytics)(E)},MpSk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRolePicker=t.LocalizedRolePicker=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("MC1S"),r=i("myse"),d=i("mwK+");i("1DEl");const u=a.__importDefault(i("Itin")),c=a.__importDefault(i("RDnQ")),p=i("/qxE"),f="";class m extends l.default.Component{constructor(e){super(e),this.onEmptyInputFocus=e=>this.getFilteredSuggestions(e),this.onFilterChanged=(e,t)=>{const i=this.getFilteredSuggestions(t);return e?i.filter(t=>t.name.toLowerCase().startsWith(e.toLowerCase())):i},this.onSelectedChange=(e,t)=>{this.state.selectedItems.forEach((t,i)=>{-1===e.indexOf(t)&&(i<e.length?this.nextFocus=i:e.length?this.nextFocus=e.length-1:this.shouldFocusPickerOnNextUpdate=!0)});let i=[];t&&this.isAllUsers([t])||(i=e.reduce((e,t)=>(t.key!==f&&e.push(t.key),e),[])),this.props.onUpdateInstitutionRoleIds(i)},this.getFilteredSuggestions=e=>{const t=this.isAllUsers(e)?[]:this.allUsers();return this.props.role.roles.reduce((t,i)=>(e.some(e=>e.key===i.roleKey)||t.push({key:i.roleKey,name:i.roleName}),t),t)},this.getSelectedItems=(e,t)=>(0,p.filterValidRoles)(e,t.roles),this.getItemAddedStatusMessage=e=>this.props.localize.translate("ip.editModule.rolesSelector.selectionAdded",{item:e.name}),this.removeButtonAriaLabel=e=>this.props.localize.translate("ip.editModule.rolesSelector.removeSelection",{item:e.name}),this.allUsers=()=>[{key:f,name:this.translations.allUsers}],this.isAllUsers=e=>1===e.length&&e[0].key===f,this.allUsersStringPopulated=()=>""!==this.props.localize.translate("ip.moduleList.allUsers"),this.translations={};const t=this.getSelectedItems(e.institutionRoleIds,e.role);this.state={hasFocusedInput:!1,isLoading:e.role.loading,selectedItems:t,disabledPickerItems:!t.length}}UNSAFE_componentWillReceiveProps(e){const t={};e.expandRoles&&!this.state.hasFocusedInput&&this.allUsersStringPopulated()&&(this.shouldFocusPickerOnNextUpdate=!0,t.hasFocusedInput=!0);const i=e.institutionRoleIds!==this.props.institutionRoleIds,a=e.role.roles!==this.props.role.roles;if(i||a){const i=this.getSelectedItems(e.institutionRoleIds,e.role);e.role.loading||i.length===e.institutionRoleIds.length?(t.isLoading=e.role.loading,t.selectedItems=i,t.disabledPickerItems=!i.length):e.onUpdateInstitutionRoleIds(i.map(e=>e.key))}this.setState(()=>t)}componentDidUpdate(){if(this.shouldFocusPickerOnNextUpdate&&this.picker&&(this.shouldFocusPickerOnNextUpdate=!1,this.picker.input.focus()),null!==this.nextFocus&&this.picker){const e=document.querySelectorAll("button.ms-TagItem-close")[this.nextFocus];e&&e.focus(),this.nextFocus=null}}render(){const{translate:e}=this.props.localize;return this.translations.allUsers=e("ip.moduleList.allUsers"),this.translations.inputPlaceholder=e("ip.editModule.rolesSelector.inputPlaceholder"),this.translations.noResults=e("ip.editModule.rolesSelector.noResults"),this.translations.suggestionsAvailable=e("ip.editModule.rolesSelector.suggestionsAvailable"),l.default.createElement("div",{className:"role-picker-container"},l.default.createElement(o.TagPicker,{horizontalLayout:!0,componentRef:e=>{this.picker=e},disabledPickerItems:this.state.disabledPickerItems,onEmptyInputFocus:this.onEmptyInputFocus,onChange:this.onSelectedChange,onResolveSuggestions:this.onFilterChanged,selectedItems:this.state.selectedItems.length?this.state.selectedItems:this.allUsers(),isLoading:this.state.isLoading,getItemAddedStatusMessage:this.getItemAddedStatusMessage,removeButtonAriaLabel:this.removeButtonAriaLabel,pickerSuggestionsProps:{noResultsFoundText:this.translations.noResults,suggestionsAvailableAlertText:this.translations.suggestionsAvailable},inputLabel:this.translations.inputPlaceholder,analyticsId:`${this.props.analyticsId}.tagPicker`}))}}t.BaseRolePicker=m,m.propTypes={role:c.default.isRequired,institutionRoleIds:s.default.arrayOf(s.default.string).isRequired,expandRoles:s.default.bool.isRequired,onUpdateInstitutionRoleIds:s.default.func.isRequired,localize:u.default.isRequired,...d.withAnalyticsProps};const h=(0,n.localizedComponentWrapper)(m);t.LocalizedRolePicker=h,t.default=(0,r.withAnalytics)(h)},NQ5G:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ESC:27,ENTER:13,ARROW_UP:38,ARROW_DOWN:40}},Nv5w:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearSessionData=t.setSessionModule=t.setSessionImage=t.CLEAR_SESSION_DATA=t.SET_SESSION_MODULE=t.SET_SESSION_IMAGE=void 0,t.SET_SESSION_IMAGE="session.set.image",t.SET_SESSION_MODULE="session.set.module",t.CLEAR_SESSION_DATA="session.clear.all";t.setSessionImage=e=>({type:t.SET_SESSION_IMAGE,resource:e});t.setSessionModule=e=>({type:t.SET_SESSION_MODULE,module:e});t.clearSessionData=()=>({type:t.CLEAR_SESSION_DATA})},NyG6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("g0Zb"));t.default=a.default},OO0R:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseHeroZeroCreateButton=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("myse"),r=i("fN3Q"),d=i("mwK+");class u extends l.default.Component{constructor(e){super(e),this.onMenuClose=()=>{this.setState(()=>({isOpen:!1}))},this.toggle=()=>{this.setState(e=>({isOpen:!e.isOpen}))},this.state={isOpen:!1},this.menuId=(0,r.v1)()}render(){const{generateDropdownOptions:e,index:t,title:i,ariaLabel:a,analyticsId:s,analyticsEventAugmentor:r}=this.props,d=e(t),u=`${s}.toggle.button`;return l.default.createElement("button",{onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,this.toggle,u),"data-analytics-id":u,ref:e=>{this.buttonElement=e},className:"button button--primary hero-zero-message__button js-module-create-button","aria-label":a,"aria-haspopup":!0,"aria-expanded":this.state.isOpen,"aria-controls":this.state.isOpen?this.menuId:null},i,this.state.isOpen?l.default.createElement(n.ContextualMenu,{id:this.menuId,shouldFocusOnMount:!0,directionalHint:5,target:this.buttonElement,onDismiss:this.onMenuClose,items:d,className:"institution-page__insert-menu",analyticsId:`${s}.contextualMenu`}):"")}}t.BaseHeroZeroCreateButton=u,u.propTypes={index:s.default.number.isRequired,generateDropdownOptions:s.default.func.isRequired,title:s.default.string.isRequired,ariaLabel:s.default.string.isRequired,...d.withAnalyticsProps};const c=(0,o.withAnalytics)(u);t.default=c},P7Gt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("mpj0"));t.default=a.default},PJ99:function(e,t,i){"use strict";i.r(t)},"PQ/6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("aWzz")),s=a.__importDefault(i("hYLm"));t.default=l.default.shape({error:l.default.bool.isRequired,errorType:l.default.string.isRequired,featureFlags:s.default.isRequired})},PzNH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("ZAht"));t.default=a.default},QqAT:function(e,t,i){"use strict";i.r(t)},Qutm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAll=t.validateTooLong=t.validateIsEmpty=t.TEXT_LIMIT=void 0,t.TEXT_LIMIT=140;const a=e=>({isValid:!1,errorMessage:e});t.validateIsEmpty=(e,t="")=>{return e.trim()?{isValid:!0,errorMessage:""}:a(t)};t.validateTooLong=(e,i="")=>{return e.trim().length>t.TEXT_LIMIT?a(i):{isValid:!0,errorMessage:""}};t.validateAll=(e,i="",a="")=>{const l=(0,t.validateIsEmpty)(e,i);return l.isValid?(0,t.validateTooLong)(e,a):l}},R0OU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("x6fk"));t.default=a.default},RBZc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("nBlB"),o=i("mwK+"),r=i("AjNY"),d=a.__importDefault(i("YSl7")),u=a.__importDefault(i("ibPM"));i("ouXC");const c=({items:e,itemOffset:t,dragPointRef:i,onInsertLink:a,onOpenEditLinkImage:s,onDeleteEditLinkImage:n,onUpdateResource:o,onValidateInput:u,onDelete:c,actions:p,state:f,translations:m,hideCutoff:h,maxLinksViewable:g,hasMaxImages:_,isImageColVisible:E,analyticsId:I})=>{const y=e.map((r,m)=>l.default.createElement(d.default,{link:r,module:r,index:m,offset:t,key:r.id,preview:l.default.createElement("div",null,l.default.createElement("div",{className:"link-name"},r.details.title)),canBeReordered:e.length>1,onInsertLink:a,hasMaxImages:_,isImageColVisible:E,dragPointRef:i,onDeleteEditLinkImage:n,onOpenEditLinkImage:s,onUpdateResource:o,onValidateInput:u,onDelete:c,actions:p,state:f,analyticsId:`${I}.item`}));if(!h&&t+e.length>g){const e=l.default.createElement("div",{key:"AllLinksCutoff",className:"module-content__divider-container"},l.default.createElement("div",{className:"module-table__row module-content__row module-content__divider",id:"split-section-divider"},l.default.createElement("span",{className:"module-content__divider-text"},m.splitSectionText)),l.default.createElement("div",{className:"module-content__divider-bar"},l.default.createElement("div",{className:"module-content__divider-bar__line"})));y.splice(g-1-t,0,e)}return l.default.createElement("div",{className:"module-table__body",id:"modules-section"},0===t&&l.default.createElement(r.InsertButton,{onClick:e=>{a(e,0)},buttonTitle:m.createLinkBtn,analyticsId:`${I}`}),y)};c.propTypes={items:s.default.arrayOf(u.default).isRequired,itemOffset:s.default.number,translations:s.default.shape().isRequired,dragPointRef:s.default.func,hasMaxImages:s.default.bool,isImageColVisible:s.default.bool,onInsertLink:s.default.func.isRequired,onDeleteEditLinkImage:s.default.func,onOpenEditLinkImage:s.default.func,onUpdateResource:s.default.func.isRequired,onValidateInput:s.default.func.isRequired,onDelete:s.default.func.isRequired,hideCutoff:s.default.bool,actions:s.default.shape().isRequired,state:s.default.shape().isRequired,maxLinksViewable:s.default.number.isRequired,...o.addAnalyticsProps},c.defaultProps={itemOffset:0,hideCutoff:!1,hasMaxImages:!1,isImageColVisible:!0,dragPointRef:()=>{},onDeleteEditLinkImage:()=>{},onOpenEditLinkImage:()=>{}},t.default=(0,n.DragNDropContainer)(c)},RDnQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("aWzz")),s=a.__importDefault(i("qoca"));t.default=l.default.shape({loading:l.default.bool.isRequired,roles:l.default.arrayOf(s.default)})},ROXL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchReturnBody=t.getFetchOptions=t.getAbsoluteUrl=t.getHeaders=t.GET=t.DELETE=t.POST=t.PATCH=void 0;const a=i("D57K"),l=a.__importDefault(i("44WZ")),s=a.__importDefault(i("5Rl4")),n=a.__importDefault(i("JPMN")),o=a.__importDefault(i("wQ3e"));function r(e=l.default.V1){return{Accept:`application/json; version=${e}`,"X-Blackboard-XSRF":window.__initialContext.xsrf,"Content-Type":"application/json"}}function d(e,t=l.default.V1){return{method:e,credentials:"same-origin",headers:new Headers(r(t))}}t.PATCH="PATCH",t.POST="POST",t.DELETE="DELETE",t.GET="GET",t.getHeaders=r,t.getAbsoluteUrl=function(e){const t=/^[^/]*\/\/[^/]+/.exec(window.location.href);return(t&&t[0]||"")+e},t.getFetchOptions=d,t.fetchReturnBody=function(e,i=null,a=!1,r=l.default.V1){let u=i;return u||(u=d(t.GET,r)),a?fetch(e,u).then(e=>e.json()):fetch(e,u).then(e=>e.json().then(t=>e.ok?t.return_body:(function(e){const t=e.error;if(t){if(t.detail&&t.detail.name===s.default.FilePermissionUpdateError)throw new n.default(t.message);if(t.detail&&t.detail.name===s.default.NotFoundError)throw new o.default(t.message);throw new Error(t.message)}throw new Error("Unexpected Error")}(t),null)))}},"S+y2":function(e,t){e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve"><rect x="398.6" y="231.1" transform="matrix(0.9254 0.3791 -0.3791 0.9254 122.4013 -137.2872)" fill="#FCCC9D" width="22.5" height="22.2"></rect><path fill="#FCCC9D" d="M394,207.2c0,0,23.5-1.3,24.5-2.1c4.6-10.1,16.5-14.7,26.8-10.3c10.4,4.5,13.4,16,10.7,26.9 C448.8,250.3,391,254.7,394,207.2z"></path><g><ellipse transform="matrix(0.9975 -7.117025e-02 7.117025e-02 0.9975 -10.1287 30.6884)" fill="#F1F2F2" cx="425.6" cy="157.5" rx="27.6" ry="7.6"></ellipse><ellipse transform="matrix(0.9975 -7.117025e-02 7.117025e-02 0.9975 -15.9342 31.3111)" fill="#F1F2F2" cx="431.4" cy="239.3" rx="18.9" ry="5.2"></ellipse><polygon fill="#F1F2F2" points="453.1,155.5 398.1,159.4 412.5,240.6 450.3,237.9 "></polygon><path fill="#3C2415" d="M402.7,163.2c5,1.8,13.7,2.5,23.4,1.9c9.7-0.7,18.2-2.7,22.9-5.2c-5-1.8-13.7-2.5-23.4-1.9 C415.9,158.8,407.5,160.8,402.7,163.2z"></path><path fill="#D1D3D4" d="M424.8,149.9c-15.7,1.1-28.2,5.6-27.9,9.9c0.3,4.3,13.3,7,29.1,5.8c15.7-1.1,28.2-5.6,27.9-9.9 C453.6,151.4,440.5,148.8,424.8,149.9z M426,164.2c-13.7,1-25-1.3-25.3-5c-0.3-3.7,10.6-7.6,24.3-8.5c13.7-1,25,1.3,25.3,5 C450.6,159.4,439.7,163.2,426,164.2z"></path></g><path fill="#FCCC9D" d="M404.5,240c-1.4,0-2.8-0.5-4-1.5c-1-0.8-9.7-8.6-10.2-19.4c-0.3-6,2.1-11.7,6.9-16.6c1.5-1.5,3.3-2.3,4.9-3 c2.5-1.1,3.9-1.7,4.8-4.1c1.2-3.2,4.8-4.7,8-3.5c3.2,1.2,4.7,4.8,3.5,8c-2.9,7.4-8.5,9.8-11.6,11c-0.4,0.2-0.9,0.4-1.1,0.5 c-2.2,2.3-3.2,4.7-3.1,7.1c0.3,5.5,5.8,10.5,5.9,10.6c2.6,2.2,2.9,6.1,0.7,8.7C407.9,239.3,406.2,240,404.5,240z"></path><path fill="#FCCC9D" d="M449,224c-4.5,0-8.1-3.6-8.2-8c-0.4-20.5,8.6-36.4,8.9-37c2.3-3.9,7.3-5.3,11.2-3c3.9,2.2,5.3,7.2,3,11.2 c-0.2,0.3-7.1,12.8-6.8,28.6c0.1,4.5-3.5,8.3-8,8.3C449.1,224,449.1,224,449,224z"></path><g><path fill="#F1F2F2" d="M420.2,257.2c0.8-1.7,1.7-3.3,2.5-5.1l-25.1-12.6c-3.1,6.4-3.1,6.4-3.1,6.4L420.2,257.2z"></path><path fill="#B5CF5C" d="M355.6,317.7c-1.1,0-2.2,0-3.3-0.1c-41.3-3.3-63-70.6-65.4-78.2c-2.3-7.6,1.9-15.6,9.5-17.9 c7.6-2.3,15.6,1.9,17.9,9.5c7,22.7,24.6,56.8,40.2,58c11.2,0.9,26.9-16.8,41.8-47.4l25.8,12.6C401.3,296.8,379.5,317.7,355.6,317.7 z"></path><path fill="#A4BD5B" d="M356.2,313.6c-1.1,0-2.2,0-3.3-0.1c-9.2-0.7-17.5-4.7-24.7-10.4c-1.6-20.3-3.9-38.2-6-51.9 c-0.7-1.5-1.4-3.1-2-4.6c2.5,14.5,5.5,35.6,7.4,60.6c7.3,5.7,15.5,9.7,24.7,10.4c1.1,0.1,2.2,0.1,3.3,0.1 c23.9,0,45.7-20.8,66.5-63.5l-1.1-0.5C400.7,293.9,379.4,313.6,356.2,313.6z"></path></g><path fill="#B5CF5C" d="M280,423.3c-0.6,0-1.2,0-1.9,0c-27.1-1-48.3-23.8-47.3-51c2.5-66.7-11-135.7-11.1-136.4 c-7.4-37.3,20.4-39.9,39.7-36.6c9.7,1.7,50.6,5.2,56.8,26.8c0.9,3.2,15.8,71.8,12.9,149.9C328.1,402.5,306.3,423.3,280,423.3z"></path><path opacity="0.25" fill="#3C2415" d="M282.9,315.2c-11.2-11.5-2.5-17.6-7.5-19.9c-7.2-3.4-5.1-11.8-5.1-16.3c0,0,2-14.4-0.3-17.1 c-11.3-13.5,7.8-17.2,9.5-22.6c0.6-2.1,20.8-16.9,16.8,5.4c-2.6,14.7-3.4,18.1,5.4,20.2c10.8,2.7,11.7,37.7,2.9,37.1 c-2.4-0.1-0.5,31.7-7.4,28.3c-6.3-3.1-1.8-8.6-6.8-10.4C284.9,317.9,284.6,316.9,282.9,315.2z"></path><g opacity="0.25"><path opacity="0.5" fill="#3C2415" d="M294.7,254.9c0.3-2.6,0.9-5.9,1.6-10.3c0.5-3,0.6-5.3,0.4-7.1c-0.1,0.9-0.2,1.9-0.4,3 C295.1,247.6,294.2,252,294.7,254.9z"></path><path opacity="0.5" fill="#3C2415" d="M270,257.8c-1.8-2.1-2.8-4-3.3-5.7c-0.8,2.6-0.1,5.7,3.3,9.8c0.7,0.8,1,2.5,1.1,4.6 C271.2,262.8,271.1,259,270,257.8z"></path><path opacity="0.5" fill="#3C2415" d="M304.6,297.9c-2.4-0.1-0.5,31.7-7.4,28.3c-6.3-3.1-1.8-8.6-6.8-10.4c-5.5-2-5.7-3-7.4-4.7 c-4.2-4.3-5.6-7.8-6-10.7c-0.3,3.3-0.5,8.2,6,14.8c1.7,1.7,1.9,2.7,7.4,4.7c5,1.8,0.5,7.4,6.8,10.4c7,3.4,5.1-28.5,7.4-28.3 c4.3,0.3,6.3-8,5.9-16.8C310.2,292.3,308.2,298.1,304.6,297.9z"></path><path opacity="0.5" fill="#3C2415" d="M275.4,291.2c-3.8-1.8-5-5-5.3-8.3c-0.3,4.4-0.2,9.9,5.3,12.4c0.8,0.4,1.3,0.9,1.5,1.5 C277.2,294,277.7,292.2,275.4,291.2z"></path></g><path fill="#FCCC9D" d="M215.1,371.8c-3.7-0.4-8.2-3.6-11.4-6.6c-1-4.1-3.6-7.7-7.5-9.9c-7.4-4.1-16.8-1.4-20.9,6 c-0.1,0.2-9,16-23.7,29.4c-6.3,5.7-6.8,15.4-1,21.7c3,3.3,7.2,5,11.4,5c3.7,0,7.4-1.3,10.3-4c12.7-11.5,21.7-24.1,26.4-31.4 c4.1,2.9,9.2,5.4,14.7,6c0.3,0,0.6,0,0.9,0c4.1,0,7.7-3.1,8.1-7.3C222.9,376.3,219.6,372.2,215.1,371.8z"></path><g><path fill="#B5CF5C" d="M171.6,359.9c-17.2-57-0.3-98.9,17-120.6c18.6-23.5,41.6-37.3,42.6-37.7c7.3-3.1,15.7,0.4,18.8,7.7 c3,7.3-0.4,30-7.7,33.1c-2.9,1.3-68.7,24.5-43.2,109.2C201.3,359.2,173.5,366.1,171.6,359.9z"></path><path fill="#F1F2F2" d="M171.4,359.3c0.1,0.2,0.1,0.4,0.2,0.6c2.5,7.2,29.4,0.1,27.6-7.4C195.7,357.4,179.1,360.6,171.4,359.3z"></path><path fill="#A4BD5B" d="M222.5,253.3l0.7,3.9c5.3-6.3,17.9-14.1,19-14.5C241.1,243.1,232.7,245.6,222.5,253.3z"></path></g><polygon fill="#F1F2F2" points="280,202.9 277.3,218.5 284,207.8 293,224.3 289.3,200.4 275.4,192.7 "></polygon><path fill="#FCCC9D" d="M277.3,217.6c-0.4,0-4.7-12.1-5-12.2c-9-0.6-25.9-1.8-25.9-1.8c0.3-4.5,3.3-44.5,16.5-68.7 c4.3-8,14.3-10.9,22.2-6.6c8,4.3,10.9,14.3,6.6,22.2c-8.3,15.3-10.2,45.4-10.9,55.5L277.3,217.6z"></path><polygon fill="#C19A78" points="258.7,181.5 282,191 281.2,200.4 "></polygon><path fill="#FCCC9D" d="M330.8,60.6l-26.2-5.3c-14.5-4.8-30.4,3.2-35.2,17.7l-4.5,22c-1.7-0.7-3.5-1.1-5.4-1.1 c-8,0-14.5,6.5-14.5,14.5c0,7.9,6.3,14.3,14.2,14.5l-6.4,31.1c-4.8,14.5,3.2,30.4,17.7,35.2l15.9,5.3c14.5,4.8,30.4-3.2,35.2-17.7 l6.5-19.7l5.7,2.3c1,0.4,2.1,0.6,3.1,0.6c3.2,0,6.3-1.9,7.6-5.1c1.7-4.2-0.3-9-4.5-10.7l-6.8-2.8l15.1-45.8 C353.3,81.2,345.3,65.4,330.8,60.6z"></path><polygon fill="#C19A78" points="327.2,159.9 328.1,157.2 321.5,154.9 "></polygon><path fill="#C19A78" d="M259.8,103.5c-2.1,0-3.9,1.2-4.9,2.8c0.8-0.5,1.8-0.8,2.9-0.8c3.2,0,5.7,2.6,5.7,5.7c0,1-0.3,2-0.8,2.9 c1.7-1,2.8-2.8,2.8-4.9C265.5,106,262.9,103.5,259.8,103.5z"></path><path fill="#333333" d="M347.8,49.4c-20-33.2-67-24.1-74-3.5c0,0-37.6-3.2-22.6,50.8c2.3-1.6,5.2-2.6,8.2-2.6 c5.8,0,10.8,3.5,13.1,8.5c16.5-9.4,17.1-30.3,17.1-30.3c39.8,42.8,80.6,20.8,97.6,3.2C387.2,75.5,365.3,78.5,347.8,49.4z"></path><polygon fill="#F1F2F2" points="273.3,202.3 277.3,217.6 269.7,207.4 262.1,224.6 236.1,199 245.6,178 "></polygon><g><path fill="#B0BBCB" d="M329.1,375.9c0.4-9.5,0.4-24,0.4-24c-63.9-13.4-98.4,10.3-98.4,10.3c0.1,8,0,1.9-0.3,10 c-0.4,10.8,2.7,20.8,8.2,29.1c-2.7,18.4-11.2,67.6-34.4,139.5h41c15.1-38,26-90,31.1-117.7c0.4,0,0.9,0.1,1.3,0.1 c0.6,0,1.2,0,1.9,0c2.5,0,4.9-0.2,7.3-0.5c1.4,25.2,1.5,64-0.9,118.1h41.2c3.3-76.1,1.2-127-0.6-152 C328.1,384.8,328.9,380.4,329.1,375.9z"></path><g><path fill="#A1ADBB" d="M234.9,372.3c0.3-8.1,0.4-2,0.3-10c0,0,31.9-20.7,94.3-8.2c0-1.3,0-2.1,0-2.1 c-63.9-13.4-98.4,10.3-98.4,10.3c0.1,8,0,1.9-0.3,10c-0.4,10.8,2.7,20.8,8.2,29.1c-2.7,18.4-11.2,67.6-34.4,139.5h4.1 c23.1-71.9,31.7-121.1,34.4-139.5C237.6,393.1,234.5,383,234.9,372.3z"></path><path fill="#A1ADBB" d="M291.3,422.8c-1.3,0.2-2.7,0.3-4.1,0.4c1.4,25.2,1.5,63.9-0.9,117.7h4.1 C292.8,486.8,292.8,447.9,291.3,422.8z"></path><path fill="#A1ADBB" d="M281.7,423.2c-0.3,0-0.6,0-0.8-0.1c0,0,0,0.1,0,0.1C281.1,423.3,281.4,423.2,281.7,423.2z"></path></g></g><path fill="#E7E7E7" d="M447.4,566.1H142.3c-4.3,0-7.9-3.6-7.9-7.9v-0.6c0-4.3,3.6-7.9,7.9-7.9h305.1c4.3,0,7.9,3.6,7.9,7.9v0.6 C455.3,562.5,451.8,566.1,447.4,566.1z"></path><path fill="#E7E7E7" d="M183.3,576.3c-4.3,0-7.9-3.6-7.9-7.9v-0.6c0-4.3,3.6-7.9,7.9-7.9H388c4.3,0,7.9,3.6,7.9,7.9v0.6 c0,4.3-3.6,7.9-7.9,7.9"></path><path fill="#333333" d="M246.6,555.7h-73.7c-5.4,0-9.7-4.4-9.7-9.7v-0.7c0-5.4,4.4-9.7,9.7-9.7h73.7c5.4,0,9.7,4.4,9.7,9.7v0.7 C256.3,551.3,251.9,555.7,246.6,555.7z"></path><path fill="#333333" d="M361.4,555.7h-73.7c-5.4,0-9.7-4.4-9.7-9.7v-0.7c0-5.4,4.4-9.7,9.7-9.7h73.7c5.4,0,9.7,4.4,9.7,9.7v0.7 C371.1,551.3,366.7,555.7,361.4,555.7z"></path></svg>'},SMbQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LEFT:"LEFT",RIGHT:"RIGHT",NONE:"NONE"}},SWpbs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("9eHj"));t.default=a.default},Sqh5:function(e,t,i){e.exports=i.p+"ac34f9dbe1c563c385401c07098ebdfe.png"},TWbI:function(e,t,i){"use strict";i.r(t)},TuRr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRoles=t.rolesReceived=t.startRoleXhr=t.FETCH_ROLES=t.ROLES_RECEIVED=t.START_ROLE_XHR=void 0;const a=i("VJGu"),l=i("EOo6");t.START_ROLE_XHR="role.start.xhr",t.ROLES_RECEIVED="role.received",t.FETCH_ROLES="role.get.all";t.startRoleXhr=()=>({type:t.START_ROLE_XHR});t.rolesReceived=e=>({type:t.ROLES_RECEIVED,roles:e});t.fetchRoles=()=>e=>(0,a.getRoles)().then(i=>e((0,t.rolesReceived)(i))).catch(i=>e((0,l.Action)((0,l.fail)(t.FETCH_ROLES),{err:i})))},VCOT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseUltraRoute=t.baseRoute=void 0;const a=i("ROXL");t.baseRoute=(0,a.getAbsoluteUrl)("/institution/api"),t.baseUltraRoute=(0,a.getAbsoluteUrl)("/learn/api/v1")},VJGu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K");a.__exportStar(i("VCOT"),t),a.__exportStar(i("J2Nh"),t),a.__exportStar(i("ROXL"),t),a.__exportStar(i("xIJd"),t),a.__exportStar(i("9T6f"),t),a.__exportStar(i("bhK2"),t)},VRfJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("uDfI"),o=i("FS8K"),r=a.__importDefault(i("nvyO")),d=a.__importDefault(i("r5QD")),u=a.__importDefault(i("eVMi")),c=a.__importDefault(i("Itin")),p=a.__importDefault(i("ikgf")),f=i("/qxE");i("83yJ");class m extends l.default.Component{constructor(e){super(e),this.state={}}render(){const{moduleId:e,module:t,localize:i}=this.props;if(t.loading)return l.default.createElement("div",{className:"view-all-page-component"},l.default.createElement(r.default,null));const a=t.modules.filter(t=>t.id===e)[0],s=a.resources.filter(e=>e.type===u.default.LINK).map(e=>({title:e.details.title,link:e.details.href,id:e.id})).map(e=>l.default.createElement("li",{className:"view-all-page-component__list-item",key:e.id},l.default.createElement("a",{className:"view-all-page-component__anchor",href:(0,f.sanitizeLinkUrl)(e.link),rel:"noopener noreferrer",target:"_blank",alt:e.title},e.title)));return l.default.createElement("div",{className:"flex-page-container"},l.default.createElement("div",{className:"view-all-page-component flex-page-content"},l.default.createElement(d.default,{superTitle:i.translate("ip.editPage.superTitle"),title:a.title}),l.default.createElement("ul",{className:"view-all-page-component__list"},s)))}}m.propTypes={moduleId:s.default.string.isRequired,module:p.default,localize:c.default.isRequired},m.defaultProps={module:null};t.default=(0,n.connect)(e=>({module:e.module}))((0,o.localizedComponentWrapper)(m))},Vxko:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("esI9");function l(e,t){return[...e.slice(0,t),...e.slice(t+1)]}function s(e,t,i){return[...e.slice(0,t),i,...e.slice(t+1)]}function n(e,t){return e.sequence-t.sequence}const o={loading:!0,modules:null,receivedAt:null};t.default=(e=o,t)=>{if(t.type.startsWith("module.")&&t.type.endsWith(".fail"))return{...e,loading:!1};const i=t.module;switch(t.type){case a.START_MODULE_XHR:return{...e,loading:!0,...t.props};case a.MODULES_RECEIVED:{const i=t.modules.sort(n);return{...e,modules:i,loading:!1,receivedAt:Date.now()}}case(0,a.ok)(a.LINK_ADD):{const a=e.modules,s=a.findIndex(e=>e.id===i.id),n={...t.link,id:t.data[0].id},o=[...i.resources,n],r={...i,resources:o};return{...e,modules:[...l(a,s),r]}}case(0,a.ok)(a.LINK_UPDATE):{const a=e.modules,l=a.findIndex(e=>e.id===i.id),n=i.resources.findIndex(e=>e.id===t.link.id),o=s(i.resources,n,t.link),r={...i};return r.resources=o,{...e,loading:!1,modules:s(a,l,r)}}case(0,a.ok)(a.LINK_REMOVE):{const a=e.modules,s=a.findIndex(e=>e.id===i.id),n=i.resources.findIndex(e=>e.id===t.linkId),o=l(i.resources,n),r={...i,resources:o};return{...e,modules:[...l(a,s),r]}}case(0,a.ok)(a.MODULE_ADD):{const i=e.modules,a=[...function(e,t){const i={},a=t;return e&&(e.forEach(e=>{t.forEach((t,a)=>{t.id===e.id&&(i[a]={...e,resources:t.resources,institutionRoleIds:t.institutionRoleIds})})}),Object.keys(i).forEach(e=>{a[e]=i[e]})),a}(t.updatedModules,i),t.createdModule].sort(n);return{...e,loading:!1,modules:a}}case(0,a.ok)(a.MODULE_REMOVE):{const{moduleId:i}=t,a=e.modules,s=a.findIndex(e=>e.id===i);return-1!==s?{...e,loading:!1,modules:l(a,s)}:e}case(0,a.ok)(a.MODULE_UPDATE):{const i=e.modules,{moduleId:a,module:l,resources:n,institutionRoleIds:o}=t,r=i.findIndex(e=>e.id===a);if(-1!==r){const t={...i[r],...l};return n&&(t.resources=n),o&&(t.institutionRoleIds=o),{...e,modules:s(i,r,t),loading:!1}}return{...e,loading:!1}}case(0,a.ok)(a.REORDER_MODULES):{const i=e.modules;if(i){const a=i.map(e=>{const i=t.data.findIndex(t=>t.id===e.id);return-1===i?e:{...e,sequence:t.data[i].sequence}}).sort(n);return{...e,modules:a,loading:!1}}const a=t.reorderedModules.map((e,t)=>({...e,sequence:t}));return{...e,modules:a,loading:!1}}default:return e}}},"WD/1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("mwK+"),r=a.__importDefault(i("Itin")),d=i("0x+l"),u=i("np6O");i("fmD+");const c=({currentPageIndex:e,currentViewerIndex:t,localize:i,onSwitchPage:a,onSwitchMode:s,onClickSettingsButton:o,variantId:r,viewerRoles:c,variantOptions:p,analyticsId:f})=>{const m=i.translate("ip.header.admin"),h=i.translate("ip.header.allOthers"),g=i.translate("ip.header.brandSelectLabel"),_=i.translate("ip.header.edit");return l.default.createElement("header",{className:"header"},l.default.createElement("h1",{className:"subheader header__title js-base-page-skip-link-target",tabIndex:"-1"},i.translate("ip.header.title")),(()=>{const t=(()=>p&&p.map((e,t)=>({key:e.variantId||"default",text:e.variantName,action:()=>{a(e,t),s("edit",0,"admin")}})))();if(!t||t.length<=1)return null;const i=t[e]&&t[e].text,o=`${_} ${i}`,r=l.default.createElement("div",{className:"header__brand-select-label"},g);return l.default.createElement("div",{className:"header__brand-container inline-label"},l.default.createElement(n.Dropdown,{ariaLabel:o,defaultSelectedKey:t[e]&&t[e].key,selectedKey:t[e]&&t[e].key,label:r,options:t,inlineLabel:!0,onChanged:e=>e.action&&e.action(),analyticsId:`${f}.pages`}))})(),(()=>{const e=(()=>{const e=c.map((e,t)=>({key:e.roleKey,text:e.roleName,action:()=>s("preview",t+1,e.roleKey)}));return[{key:"admin",text:m,action:()=>s("edit",0,"admin")},...e,{key:"",text:h,action:()=>s("preview",e.length+1,"")}]})(),i=e[t]&&e[t].text,a=`${_} ${i}`,o=l.default.createElement("div",{className:"header__role-select-label"},_);return l.default.createElement("div",{className:"header__role-container inline-label"},l.default.createElement(n.Dropdown,{ariaLabel:a,defaultSelectedKey:e[t]&&e[t].key,selectedKey:e[t]&&e[t].key,label:o,options:e,inlineLabel:!0,onChanged:e=>e.action&&e.action(),analyticsId:`${f}.roles`}))})(),!!o&&l.default.createElement(u.AnalyticsIconButton,{className:"header__settings-button",onClick:()=>{o(r||"default")},analyticsId:`${f}.brandSettings.button`,"aria-label":i.translate("ip.header.brandSettingsTitle")},l.default.createElement(d.Settings,null)))};c.propTypes={currentPageIndex:s.default.number.isRequired,currentViewerIndex:s.default.number.isRequired,localize:r.default.isRequired,onSwitchPage:s.default.func.isRequired,onSwitchMode:s.default.func.isRequired,onClickSettingsButton:s.default.func,variantId:s.default.string,variantOptions:s.default.arrayOf(s.default.shape({variantId:s.default.string,variantName:s.default.string.isRequired})),viewerRoles:s.default.arrayOf(s.default.shape({roleKey:s.default.string.isRequired,roleName:s.default.string.isRequired})).isRequired,...o.addAnalyticsProps},c.defaultProps={onClickSettingsButton:null,variantId:"default",variantOptions:null},t.default=c},Wmya:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("ERsv"),o=i("nBlB"),r=a.__importDefault(i("BCHA")),d=a.__importDefault(i("f++J")),u=i("mwK+");i("JD1a");const c=({items:e,state:t,actions:i,editable:a,createModuleDropdownOptions:s,moreOptionsClassName:n,openEdit:o,onDelete:d,dispatch:u,locale:c,openAll:p,pluginsConfig:f,generateAudienceLabel:m,areRolesValid:h,analyticsId:g})=>l.default.createElement("div",null,e.map((_,E)=>l.default.createElement(r.default,{canBeReordered:e.length>1,module:_,index:E,key:_.id,preview:l.default.createElement("div",{className:"module-list-preview"},_.title),state:t,actions:i,editable:a,createModuleDropdownOptions:s,openEdit:o,onDelete:d,dispatch:u,locale:c,openAll:p,pluginsConfig:f,generateAudienceLabel:m,areRolesValid:h,moreOptionsClassName:n,analyticsId:`${g}.moduleItem`})));c.propTypes={items:s.default.arrayOf(d.default).isRequired,state:s.default.shape().isRequired,actions:s.default.shape().isRequired,editable:s.default.bool.isRequired,createModuleDropdownOptions:s.default.func.isRequired,openEdit:s.default.func.isRequired,onDelete:s.default.func.isRequired,dispatch:s.default.func.isRequired,locale:s.default.string.isRequired,openAll:s.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,generateAudienceLabel:s.default.func.isRequired,areRolesValid:s.default.func.isRequired,moreOptionsClassName:s.default.string,...u.addAnalyticsProps},c.defaultProps={moreOptionsClassName:""},t.default=(0,o.DragNDropContainer)(c)},XAad:function(e,t,i){"use strict";i.r(t)},XD08:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("myse"),o=i("caKH"),r=i("mwK+");i("PJ99");const d=({content:e,id:t,title:i,subText:a,onCancel:s,children:r,elementToFocusOnDismiss:d,analyticsId:u,isAlert:c})=>{const p=`institution-page-${t}-content`;return l.default.createElement(o.UltraModalDialog,{hidden:!1,onDismiss:(0,n.useAnalyticsAugmentEventOnElement)("click",s,`${u}.cancel.dialog`),elementToFocusOnDismiss:d,dialogContentProps:{title:i,subText:a,showCloseButton:!0},modalProps:{isBlocking:!0,subtitleAriaId:p,isAlert:c}},l.default.createElement("div",{id:p},e),r)};d.propTypes={content:s.default.oneOfType([s.default.string,s.default.element]).isRequired,id:s.default.string.isRequired,title:s.default.string.isRequired,onCancel:s.default.func.isRequired,children:s.default.node.isRequired,elementToFocusOnDismiss:s.default.element,...r.addAnalyticsProps},d.defaultProps={elementToFocusOnDismiss:null},t.default=d},XTbO:function(e,t,i){"use strict";i.r(t)},XfUC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("eAYF"));t.default=a.default},Y9wL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NUM_LINK_COLUMNS_WITHOUT_IMAGE=t.NUM_LINK_COLUMNS_WITH_IMAGE=t.MAX_LINKS_PER_COLUMN=t.MAX_IMAGE_LINKS=void 0,t.MAX_IMAGE_LINKS=1,t.MAX_LINKS_PER_COLUMN=5,t.NUM_LINK_COLUMNS_WITH_IMAGE=1,t.NUM_LINK_COLUMNS_WITHOUT_IMAGE=2},YKH9:function(e,t,i){"use strict";i.r(t)},YSl7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("ZPOf"));t.default=a.default},YdOI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLogo=t.defaultBanner=void 0;const a=i("D57K").__importStar(i("+F6L"));Object.defineProperty(t,"defaultBanner",{enumerable:!0,get:function(){return a.defaultBanner}}),Object.defineProperty(t,"defaultLogo",{enumerable:!0,get:function(){return a.defaultLogo}}),t.default=a.default},YrlB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("iBzy"));t.default=a.default},Z1WF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=a.__importDefault(i("c5Dk")),o=i("mwK+");i("YKH9");const r=({buttonText:e,buttonAriaLabel:t,generateDropdownOptions:i,description:a,headline:s,image:o,permission:r,analyticsId:d})=>{let u;return u=r?l.default.createElement("div",{className:"hero-zero-message__dropdown_wrapper"},l.default.createElement(n.default,{index:0,generateDropdownOptions:i,title:e,ariaLabel:t,analyticsId:`${d}.create`})):"",l.default.createElement("div",{className:"hero-zero-message"},l.default.createElement("div",{className:"hero-zero-message__image",dangerouslySetInnerHTML:{__html:o}}),l.default.createElement("h3",{className:"subheader hero-zero-message__headline"},s),l.default.createElement("p",{className:"hero-zero-message__description"},a),u)};r.propTypes={headline:s.default.string,image:s.default.string,description:s.default.string,permission:s.default.bool,buttonText:s.default.string.isRequired,buttonAriaLabel:s.default.string.isRequired,generateDropdownOptions:s.default.func.isRequired,...o.addAnalyticsProps},r.defaultProps={headline:"",image:"",description:"",permission:!1},t.default=r},ZAht:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("MC1S"),r=i("AuQm"),d=i("mwK+");i("10SE");const u=a.__importDefault(i("SMbQ")),c=a.__importDefault(i("Itin")),p=i("/qxE");class f extends l.default.Component{constructor(e){super(e),this.state={}}render(){const{onChanged:e,selectedId:t,localize:i,analyticsId:a}=this.props,s=i.translate;return l.default.createElement("div",{className:"image-orientation image-orientation-toggle"},l.default.createElement(o.SquareToggle,{type:o.SquareToggleType.fillContainer,onChanged:e,selectedId:t,radioGroup:"image-orientations",analyticsId:`${a}.squareToggleGroup`,options:[{altText:s("ip.editModule.imageOrientationOptionTitle.left"),id:u.default.LEFT,icon:l.default.createElement(r.HelpfulLinksLayoutLeft,{className:"image-orientation image-orientation-option"})},{altText:s("ip.editModule.imageOrientationOptionTitle.right"),id:u.default.RIGHT,icon:l.default.createElement(r.HelpfulLinksLayoutRight,{className:"image-orientation image-orientation-option"})},{altText:s("ip.editModule.imageOrientationOptionTitle.none"),id:u.default.NONE,icon:l.default.createElement(r.HelpfulLinksLayoutText,{className:"image-orientation image-orientation-option"})}]}))}}f.propTypes={onChanged:s.default.func.isRequired,selectedId:s.default.oneOf((0,p.values)(u.default)).isRequired,localize:c.default.isRequired,...d.addAnalyticsProps},t.default=(0,n.localizedComponentWrapper)(f)},ZMA0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEditImageButton=t.LocalizedEditImageButton=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("myse"),r=i("mwK+"),d=i("0x+l"),u=i("8jBL"),c=a.__importDefault(i("Itin")),p=a.__importDefault(i("ibPM"));i("D/7O");class f extends l.default.Component{constructor(e){super(e),this.onEditButtonFocus=()=>{this.setState(()=>({editButtonFocused:!0}))},this.onEditButtonBlur=()=>{this.setState(()=>({editButtonFocused:!1}))},this.onDeleteButtonFocus=()=>{this.setState(()=>({deleteButtonFocused:!0}))},this.onDeleteButtonBlur=()=>{this.setState(()=>({deleteButtonFocused:!1}))},this.state={editButtonFocused:!1,deleteButtonFocused:!1}}render(){const{link:e,localize:t,handleOpenEditLinkImageButtonClick:i,handleDeleteLinkImageButtonClick:a,buttonTitle:s,analyticsId:n,analyticsEventAugmentor:r}=this.props,c=`${n}.edit.button`,p=`${n}.edit.link`,f=`${n}.delete.button`;let m;if(e.details.imageHref){const n={backgroundImage:`url('${e.details.imageHref}')`},p=this.state.editButtonFocused||this.state.deleteButtonFocused;m=l.default.createElement("div",{className:"image-thumbnail",style:n},l.default.createElement("button",{onFocus:this.onEditButtonFocus,onBlur:this.onEditButtonBlur,className:p?"image-thumbnail-edit visible":"image-thumbnail-edit","aria-label":t.translate("ip.editModule.editLinkImage",{buttonTitle:s}),onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,i,c),"data-analytics-id":c,tabIndex:0},l.default.createElement(u.Pencil,null)),l.default.createElement("button",{onFocus:this.onDeleteButtonFocus,onBlur:this.onDeleteButtonBlur,className:p?"image-thumbnail-delete visible":"image-thumbnail-delete","aria-label":t.translate("ip.editModule.deleteLinkImage",{buttonTitle:s}),tabIndex:0,onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,a,f),"data-analytics-id":f},l.default.createElement(d.Trash,null)),l.default.createElement("div",{className:p?"overlay visible":"overlay"}))}return this.props.hasMaxImages||m||(m=l.default.createElement("div",{className:"edit-image-button-add"},l.default.createElement("button",{className:"add-button","aria-label":t.translate("ip.editModule.addLinkImageTitle",{buttonTitle:s}),onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,i,c),"data-analytics-id":c},l.default.createElement(d.Add,null)),l.default.createElement("a",{className:"small-only-link",href:void 0,onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,i,p),"data-analytics-id":p},t.translate("ip.editModule.addLinkImage")))),l.default.createElement("div",{className:"edit-image-button"},m)}}t.BaseEditImageButton=f,f.propTypes={buttonTitle:s.default.string.isRequired,link:p.default.isRequired,handleDeleteLinkImageButtonClick:s.default.func.isRequired,handleOpenEditLinkImageButtonClick:s.default.func.isRequired,localize:c.default.isRequired,hasMaxImages:s.default.bool,...r.withAnalyticsProps},f.defaultProps={hasMaxImages:!1};const m=(0,n.localizedComponentWrapper)(f);t.LocalizedEditImageButton=m,t.default=(0,o.withAnalytics)(m)},ZPOf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("nBlB"),o=a.__importDefault(i("cfRw")),r=a.__importDefault(i("ibPM")),d=i("mwK+"),u=({link:e,dragPointRef:t,index:i,canBeReordered:a,offset:s,onInsertLink:n,onDeleteEditLinkImage:r,onOpenEditLinkImage:d,onUpdateResource:u,onValidateInput:c,onDelete:p,hasMaxImages:f,isImageColVisible:m,analyticsId:h})=>l.default.createElement(o.default,{key:e.id,link:e,dragPointRef:t,rowIndex:i,canBeReordered:a,offset:s,onInsertLink:n,onDeleteEditLinkImage:r,onOpenEditLinkImage:d,onUpdateResource:u,onDelete:p,onValidateInput:c,hasMaxImages:f,isImageColVisible:m,analyticsId:`${h}`});u.propTypes={link:r.default.isRequired,dragPointRef:s.default.func,hasMaxImages:s.default.bool,isImageColVisible:s.default.bool,index:s.default.number.isRequired,canBeReordered:s.default.bool.isRequired,offset:s.default.number,onInsertLink:s.default.func.isRequired,onDeleteEditLinkImage:s.default.func,onOpenEditLinkImage:s.default.func,onUpdateResource:s.default.func.isRequired,onValidateInput:s.default.func.isRequired,onDelete:s.default.func.isRequired,...d.addAnalyticsProps},u.defaultProps={dragPointRef:()=>{},hasMaxImages:!1,isImageColVisible:!0,offset:0,onDeleteEditLinkImage:()=>{},onOpenEditLinkImage:()=>{}},t.default=(0,n.DragNDropItem)(u)},ZyJK:function(e,t,i){"use strict";i.r(t)},"a+fq":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqual=void 0,t.shallowEqual=function(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let a=0;a<i.length;a++){const s=i[a];if(!l(s))return!1;if(e[s]!==t[s])return!1}return!0}},aDk2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("Kw3a"));t.default=a.default},apWT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("ERsv"),o=i("/qxE"),r=a.__importDefault(i("f++J"));i("ot4N");const d=({module:e,pluginsConfig:t,preview:i,locale:a})=>{const s=(0,o.configureEditorPlugins)(t);return l.default.createElement("div",{className:"content-component__container bb-editor-fill"},l.default.createElement(n.BbEditor,{isToolbarHidden:!0,isReadOnly:!0,bbml:e.resources[0].details.bbml,plugins:s,isDisabled:i,locale:a}))};d.propTypes={locale:s.default.string.isRequired,module:r.default.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,preview:s.default.bool},d.defaultProps={preview:!1},t.default=d},bhK2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoles=void 0;const a=i("VCOT"),l=i("ROXL");t.getRoles=()=>{const e=`${a.baseRoute}/institutionRoles`;return(0,l.fetchReturnBody)(e)}},c5Dk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("OO0R"));t.default=a.default},cfRw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("MQEB"));t.default=a.default},cyZD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimStringValues=t.getDisplayName=t.values=t.omit=void 0;t.omit=(e,...t)=>Object.keys(e).reduce((i,a)=>(-1===t.indexOf(a)&&(i[a]=e[a]),i),{});t.values=e=>Object.keys(e).map(t=>e[t]);t.getDisplayName=e=>e.displayName||e.name||"Component";t.trimStringValues=e=>e?"string"==typeof e?e.trim():Object.keys(e).reduce((i,a)=>("string"==typeof e[a]?i[a]=e[a].trim():Array.isArray(e[a])||"object"==typeof e[a]?i[a]=(0,t.trimStringValues)(e[a]):i[a]=e[a],i),Array.isArray(e)?[]:{}):e},d34T:function(e,t,i){"use strict";i.r(t)},e9z5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let i=e;return e&&e.indexOf("//")<0&&("/"!==e[0]&&(i=`/${e}`),i=t?t+i:window.location.origin+i),i}},eAYF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseModuleWrapper=t.LocalizedModuleWrapper=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=a.__importDefault(i("7O4Y")),o=i("MC1S"),r=i("0x+l"),d=i("FS8K"),u=i("myse"),c=i("mwK+"),p=a.__importDefault(i("R0OU")),f=a.__importDefault(i("SWpbs")),m=a.__importDefault(i("Itin")),h=a.__importDefault(i("f++J"));i("vHas");class g extends l.default.Component{constructor(){super(...arguments),this.onEdit=()=>this.props.openEdit(this.props.module.id),this.onEditWithRolesExpanded=()=>this.props.openEdit(this.props.module.id,!0),this.onDelete=()=>this.props.onDelete(this.props.module.id),this.generateCreateBar=(e,t)=>{const{module:i,editable:a,localize:s,generateDropdownOptions:n,analyticsId:o}=this.props,r=s.translate(t?"ip.moduleList.createModuleAfterAria":"ip.moduleList.createModuleBeforeAria",{moduleTitle:i.title});return a?l.default.createElement(f.default,{buttonAriaLabel:r,generateDropdownOptions:n,closedTitle:s.translate("ip.moduleList.createModuleText"),openedTitle:s.translate("ip.moduleList.createModuleCancel"),index:e,analyticsId:`${o}.createNewBar`}):""}}render(){const{module:e,index:t,editable:i,dispatch:a,localize:s,children:d,moreOptionsClassName:c,analyticsId:f,analyticsEventAugmentor:m}=this.props,h=this.props.areRolesValid(e.institutionRoleIds),g=(0,n.default)({"module-wrapper__button":!0,"module-wrapper__drag-point":!0,hidden:!this.props.canBeReordered}),_=`${f}.editWithRoles.link`,E=`${f}.dragModule.button`;return l.default.createElement("div",{className:"module-wrapper"},0===t?this.generateCreateBar(t,!1):"",l.default.createElement("div",{className:"module-wrapper__content drag-drop-item__highlight-area"},l.default.createElement("div",{className:"module-wrapper__header"},l.default.createElement("div",{className:"module-wrapper__header-left"},l.default.createElement("h3",{className:"subheader module-wrapper__title"},e.title),i?l.default.createElement("span",{className:"module-wrapper__visibility-controls"},l.default.createElement(p.default,{moduleId:e.id,available:e.available,dispatch:a,localize:s,analyticsId:`${f}.visibilityToggle.control`}),l.default.createElement("span",{className:"module-wrapper__audience"},l.default.createElement("span",{className:"module-wrapper__audience-spacer","aria-hidden":"true"},"|"),s.translate("ip.moduleList.audienceTitle"),l.default.createElement("a",{className:"module-wrapper__audience-link",onClick:m(u.AnalyticsEventTypes.CLICK_EVENT,this.onEditWithRolesExpanded,_),"data-analytics-id":_,href:"#"},h?this.props.generateAudienceLabel(e.institutionRoleIds):s.translate("ip.moduleList.confirmRoles")),!h&&l.default.createElement(r.Attention,{className:"attention-icon"}))):""),i?l.default.createElement("div",{className:"module-wrapper__header-right"},l.default.createElement("div",{ref:this.props.dragPointRef,id:`${e.id}-drag-point`,className:g,draggable:!0,role:"button",tabIndex:"0",title:s.translate("ip.moduleList.moveModuleTitle"),"aria-label":s.translate("ip.moduleList.moveModuleTitle"),onClick:m(u.AnalyticsEventTypes.CLICK_EVENT,()=>{},E),"data-analytics-id":E},l.default.createElement(r.MoveItemUpDown,null)),l.default.createElement(o.ActionMenu,{className:`js-dropdown-toggle ${c}`,ariaLabel:s.translate("ip.moduleList.editModuleAriaLabel",{moduleTitle:e.title}),title:s.translate("ip.moduleList.editModuleTitle"),analyticsId:`${f}.actionMenu.button`,menuProps:{items:[{key:"editModule",name:s.translate("ip.moduleList.editModuleText"),onClick:this.onEdit,icon:l.default.createElement(r.Edit,null)},{key:"deleteModule",name:s.translate("ip.moduleList.deleteModuleText"),onClick:this.onDelete,icon:l.default.createElement(r.Trash,null)}]}})):""),d),this.generateCreateBar(this.props.module.sequence+1,!0))}}t.BaseModuleWrapper=g,g.propTypes={canBeReordered:s.default.bool.isRequired,generateDropdownOptions:s.default.func.isRequired,editable:s.default.bool.isRequired,localize:m.default.isRequired,openEdit:s.default.func.isRequired,onDelete:s.default.func.isRequired,dragPointRef:s.default.func.isRequired,index:s.default.number.isRequired,children:s.default.node.isRequired,module:h.default.isRequired,dispatch:s.default.func.isRequired,generateAudienceLabel:s.default.func.isRequired,areRolesValid:s.default.func.isRequired,moreOptionsClassName:s.default.string,...c.withAnalyticsProps},g.defaultProps={moreOptionsClassName:""};const _=(0,d.localizedComponentWrapper)(g);t.LocalizedModuleWrapper=_,t.default=(0,u.withAnalytics)(_)},eVMi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LINK:"LINK",IMAGE:"IMAGE",CONTENT:"CONTENT",LAYOUT:"LAYOUT"}},esI9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fail=t.ok=void 0;const a=i("D57K");a.__exportStar(i("keO8"),t),a.__exportStar(i("9XgJ"),t),a.__exportStar(i("TuRr"),t),a.__exportStar(i("/hmY"),t),a.__exportStar(i("Nv5w"),t);var l=i("EOo6");Object.defineProperty(t,"ok",{enumerable:!0,get:function(){return l.ok}}),Object.defineProperty(t,"fail",{enumerable:!0,get:function(){return l.fail}})},"f++J":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("aWzz")),s=a.__importDefault(i("IMGp")),n=a.__importDefault(i("ibPM")),o=(0,i("/qxE").values)(s.default);t.default=l.default.shape({available:l.default.bool.isRequired,customPageId:l.default.string,id:l.default.string.isRequired,sequence:l.default.number.isRequired,title:l.default.string.isRequired,type:l.default.oneOf(o).isRequired,resources:l.default.arrayOf(n.default),institutionRoleIds:l.default.arrayOf(l.default.string)})},"fmD+":function(e,t,i){"use strict";i.r(t)},g0Zb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("ERsv"),o=a.__importDefault(i("9sa7")),r=a.__importDefault(i("wc8T")),d=a.__importDefault(i("r6JO")),u=a.__importDefault(i("f++J")),c=a.__importDefault(i("IMGp")),p=a.__importDefault(i("eVMi")),f=i("mwK+"),m=({module:e,dispatch:t,openAll:i,locale:a,pluginsConfig:s,preview:n,analyticsId:u})=>{switch(e.type){case c.default.LINKS:return!e.resources.some(e=>e.type===p.default.IMAGE)||n?l.default.createElement(r.default,{module:e,dispatch:t,openAll:i,preview:n,analyticsId:`${u}.imageModule`}):l.default.createElement(o.default,{module:e,dispatch:t,openAll:i,preview:n,analyticsId:`${u}.featureModule`});case c.default.CONTENT:return l.default.createElement(d.default,{module:e,locale:a,pluginsConfig:s,preview:n});default:return null}};m.propTypes={module:u.default.isRequired,dispatch:s.default.func.isRequired,locale:s.default.string.isRequired,openAll:s.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,preview:s.default.bool,...f.addAnalyticsProps},m.defaultProps={preview:!1},t.default=m},gMV7:function(e,t,i){"use strict";i.r(t)},gdCT:function(e,t){e.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 200"><defs><style>.cls-1{fill:none;}.cls-2{fill:#fcb92a;}.cls-3{fill:#fff170;}.cls-4{fill:#c08f2d;}.cls-5{fill:#7f5d25;}.cls-6{clip-path:url(#clip-path);}.cls-7{fill:#8e6f51;}.cls-8{fill:#d7a57d;}.cls-9{fill:#80614c;}.cls-10{fill:#d8b655;}.cls-11{fill:#806a34;}.cls-12{clip-path:url(#clip-path-6);}.cls-13{fill:#ffddac;}.cls-14{fill:#333;opacity:0.1;isolation:isolate;}.cls-15{clip-path:url(#clip-path-7);}.cls-16{fill:#81b166;}.cls-17{fill:#93ca74;}.cls-18{clip-path:url(#clip-path-11);}</style><clipPath id="clip-path"><circle class="cls-1" cx="99.8" cy="99.9" r="99.8"></circle></clipPath><clipPath id="clip-path-6"><circle class="cls-1" cx="100" cy="100" r="100"></circle></clipPath><clipPath id="clip-path-7"><path class="cls-1" d="M139.3,120s-0.8-1.2-7.3-1.2-8.7,1.2-8.7,1.2V98.2h16V120Z"></path></clipPath><clipPath id="clip-path-11"><path class="cls-1" d="M75.3,144.7s-4.6-.3-19.1-0.3-20.2.3-20.2,0.3V90.1H75.3v54.6Z"></path></clipPath></defs><title>Illustrations_ZeroState_Desert</title><circle class="cls-2" cx="99.8" cy="99.9" r="99.8"></circle><circle class="cls-3" cx="22.4" cy="83.9" r="7.2"></circle><circle class="cls-1" cx="99.8" cy="99.9" r="99.8"></circle><path class="cls-4" d="M94.2,123.5L6.5,127.8S45,104.2,48.9,98.2,94.2,123.5,94.2,123.5Z"></path><path class="cls-5" d="M50.2,97.5c4.1,2.3,25.9,28,25.9,28l18.1-2s-10.5-7.7-22.4-16.7S50.2,97.5,50.2,97.5Z"></path><path class="cls-4" d="M128.8,117H31.7s31.4-7.9,46.2-19.5c6.4-5,9.6-4.3,12.8-4C96.7,94.5,128.8,117,128.8,117Z"></path><path class="cls-5" d="M95.2,95.4s14.2,16.2,13.4,19.1-5.9,2.2-5.9,2.2h26.2c0.7-.2-17.1-12.3-23-15.9A56.85,56.85,0,0,0,95.2,95.4Z"></path><g class="cls-6"><path class="cls-7" d="M197.4,125.2a100.82,100.82,0,0,0,3.2-25.3V98.3c-1,.5-2,1-3,1.6-33.8,19.6-51.9,25.3-51.9,25.3h51.7Z"></path></g><g class="cls-6"><path class="cls-8" d="M222.5,125.2H125.3S172.5,99,177.2,98.3,222.5,125.2,222.5,125.2Z"></path></g><g class="cls-6"><path class="cls-9" d="M178.3,98.3c11.2,9.2,19,26.8,19,26.8h25.2l-23.2-16a109.05,109.05,0,0,0-13.4-7.7A80.16,80.16,0,0,0,178.3,98.3Z"></path></g><g class="cls-6"><path class="cls-10" d="M201.4,129.6H104.2s40.3-24.4,51.9-25.3C165.2,103.6,201.4,129.6,201.4,129.6Z"></path></g><g class="cls-6"><path class="cls-11" d="M157.3,104.3c1.8,1.7,7.8,6.9,11.7,12.3a59.87,59.87,0,0,1,7,12.7l29.2,1s-14.4-8.3-24.3-15.4a73.3,73.3,0,0,0-17.8-9.1A40.72,40.72,0,0,0,157.3,104.3Z"></path></g><g class="cls-12"><path class="cls-13" d="M196.3,126.9c-35.2-9-72.7-13-96.3-13-26.7,0-64.5,3.3-96.4,13A100,100,0,0,0,196.3,126.9Z"></path></g><path class="cls-13" d="M136.3,123.5h-9.9v-4.2a40.17,40.17,0,0,0,9.8,0v4.2h0.1Z"></path><path class="cls-14" d="M192.7,136.5l-59.2-17.7h-1.1l-2.4.1,60,24C190.9,140.8,191.8,138.7,192.7,136.5Z"></path><g class="cls-15"><path class="cls-16" d="M132,120.6h0a1.54,1.54,0,0,1-1.5-1.5V102.4a1.54,1.54,0,0,1,1.5-1.5h0a1.54,1.54,0,0,1,1.5,1.5v16.7A1.54,1.54,0,0,1,132,120.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M131.4,120.6h0a1.54,1.54,0,0,1-1.5-1.5V102.4a1.54,1.54,0,0,1,1.5-1.5h0a1.54,1.54,0,0,1,1.5,1.5v16.7A1.54,1.54,0,0,1,131.4,120.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M131.3,113.6q-6.6,0-6.6-5.1a0.8,0.8,0,1,1,1.6,0c0,1.7.6,3.5,5,3.5A0.8,0.8,0,1,1,131.3,113.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M132.9,109.3a0.8,0.8,0,0,1,0-1.6c1.6,0,2.5-.7,2.5-2a0.8,0.8,0,0,1,1.6,0C136.9,107.9,135.4,109.3,132.9,109.3Z"></path></g><path class="cls-14" d="M146.1,188.4L60,143l-8.6,1.4,80.1,50.2A104.89,104.89,0,0,0,146.1,188.4Z"></path><g class="cls-18"><path class="cls-16" d="M58.8,118a2.4,2.4,0,0,1,0-4.8c5.6,0,6-2,6-4.8a2.4,2.4,0,0,1,4.8,0C69.6,114.7,66,118,58.8,118Z"></path></g><g class="cls-18"><path class="cls-17" d="M52.8,128c-11.6,0-14-4.4-14-11.1a2.4,2.4,0,0,1,4.8,0c0,4.1.4,6.3,9.2,6.3A2.4,2.4,0,1,1,52.8,128Z"></path></g><g class="cls-18"><path class="cls-16" d="M56.4,145.8h0a4.23,4.23,0,0,1-4.2-4.2V94.3a4.23,4.23,0,0,1,4.2-4.2h0a4.23,4.23,0,0,1,4.2,4.2v47.2A4.25,4.25,0,0,1,56.4,145.8Z"></path></g><g class="cls-18"><path class="cls-17" d="M54.6,145.8h0a4.23,4.23,0,0,1-4.2-4.2V94.3a4.23,4.23,0,0,1,4.2-4.2h0a4.23,4.23,0,0,1,4.2,4.2v47.2A4.25,4.25,0,0,1,54.6,145.8Z"></path></g></svg>'},hYLm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({})},hcyJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("mwK+"),o=a.__importDefault(i("aDk2")),r=a.__importDefault(i("+YST")),d=a.__importDefault(i("eVMi")),u=a.__importDefault(i("f++J")),c=a.__importDefault(i("zi9j")),p=i("esI9");i("XTbO");class f extends l.default.Component{constructor(){super(...arguments),this.openAllLinksPeek=e=>{const{openAll:t,dispatch:i}=this.props;return i((0,p.checkModuleVisibility)(e)).then(()=>{t(e)}).catch(e=>{if(e!==c.default.GET_MODULE_VISIBILITY)throw e})}}render(){const{module:e,analyticsId:t}=this.props,i=e.resources.filter(e=>e.type===d.default.IMAGE)[0],a=i?{url:i.details.href,title:i.details.title,desc:i.details.desc}:{url:""},s=e.resources.filter(e=>e.type===d.default.LINK).map(e=>{return{link:e.details.href,title:e.details.title,id:e.id}}),n=s?l.default.createElement(r.default,{items:s,openAll:this.openAllLinksPeek,moduleId:e.id,disableLinks:this.props.preview,customClasses:"featured-link-list",analyticsId:`${t}.featuredLink.linkList`}):"";return l.default.createElement("div",{className:"featured-links-component__container"},l.default.createElement(o.default,{imgUrl:a.url,title:a.title,desc:a.desc}),n)}}f.propTypes={module:u.default.isRequired,dispatch:s.default.func.isRequired,openAll:s.default.func.isRequired,preview:s.default.bool,...n.addAnalyticsProps},f.defaultProps={preview:!1},t.default=f},heXz:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("AcBT"));t.default=a.default},iBzy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("ERsv"),o=i("/qxE");class r extends l.default.Component{shouldComponentUpdate(){return!1}render(){const e=(0,o.configureEditorPlugins)(this.props.pluginsConfig);return l.default.createElement(n.BbEditor,{bbml:this.props.startingBBML,onChange:this.props.onChange,locale:this.props.locale,plugins:e})}}r.propTypes={startingBBML:s.default.string.isRequired,onChange:s.default.func.isRequired,locale:s.default.string.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes},r.defaultProps={pluginsConfig:{}},t.default=r},ibPM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("aWzz")),s=i("/qxE"),n=a.__importDefault(i("eVMi")),o=(0,s.values)(n.default);t.default=l.default.shape({available:l.default.bool.isRequired,id:l.default.string.isRequired,moduleId:l.default.string.isRequired,sequence:l.default.number.isRequired,type:l.default.oneOf(o).isRequired,details:l.default.shape()})},ikgf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("aWzz")),s=a.__importDefault(i("f++J"));t.default=l.default.shape({loading:l.default.bool.isRequired,modules:l.default.arrayOf(s.default),receivedAt:l.default.number})},jZo8:function(e,t,i){"use strict";i.r(t)},"jo9/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("WD/1"));t.default=a.default},k0sS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({available:a.default.bool,bannerId:a.default.string,createdt:a.default.string,createid:a.default.string,editIp:a.default.bool,id:a.default.string,loading:a.default.bool,logoId:a.default.string,message:a.default.string,modifydt:a.default.string,modifyid:a.default.string,org:a.default.string,title:a.default.string,type:a.default.string})},keO8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkModuleVisibility=t.removeModule=t.addModule=t.updateModule=t.removeLink=t.updateLink=t.addLink=t.getData=t.modulesReceived=t.startModuleXhr=t.IS_VISIBLE=t.MODULE_UPDATE=t.MODULE_REMOVE=t.MODULE_ADD=t.MODULES_RECEIVED=t.LINK_UPDATE=t.LINK_REMOVE=t.LINK_ADD=t.GET_DATA=t.START_MODULE_XHR=void 0;const a=i("D57K"),l=i("VJGu"),s=i("EOo6"),n=i("9XgJ"),o=a.__importDefault(i("zi9j")),r=a.__importDefault(i("5Rl4"));t.START_MODULE_XHR="module.start.xhr",t.GET_DATA="module.get.data",t.LINK_ADD="module.link.add",t.LINK_REMOVE="module.link.remove",t.LINK_UPDATE="module.link.update",t.MODULES_RECEIVED="module.all.received",t.MODULE_ADD="module.add",t.MODULE_REMOVE="module.remove",t.MODULE_UPDATE="module.update",t.IS_VISIBLE="module.visible";t.startModuleXhr=(e={})=>({type:t.START_MODULE_XHR,props:e});t.modulesReceived=e=>({type:t.MODULES_RECEIVED,modules:e,receivedAt:Date.now()});t.getData=e=>i=>{let a;return(a=e&&"default"!==e?(0,l.getPageVariant)("IP",e).then(e=>e&&e.available?e:null,e=>{if(e.name===r.default.NotFoundError)return null;throw e}).then(e=>e||(0,l.getPageVariant)("IP",null)):(0,l.getPageVariant)("IP",null)).then(e=>{if(!e)throw new Error("no institution pages found!");return Promise.all([i((0,n.pageReceived)(e)),(0,l.getModules)(e.id).then(e=>{const t=e.map(e=>(0,l.getModuleResources)(e).then(t=>{return e.resources=t,e}));return Promise.all(t)}).then(e=>i((0,t.modulesReceived)(e)))])}).catch(e=>i((0,s.Action)((0,s.fail)(t.GET_DATA),{err:e})))};t.addLink=(e,i)=>a=>(0,l.addResource)(i).then(l=>a((0,s.Action)((0,s.ok)(t.LINK_ADD),{data:l,module:e,link:i}))).catch(l=>a((0,s.Action)((0,s.fail)(t.LINK_ADD),{err:l,module:e,link:i})));t.updateLink=(e,i)=>a=>(0,l.updateResource)(i).then(l=>a((0,s.Action)((0,s.ok)(t.LINK_UPDATE),{data:l,module:e,link:i}))).catch(l=>a((0,s.Action)((0,s.fail)(t.LINK_UPDATE),{err:l,module:e,link:i})));t.removeLink=(e,i)=>a=>(0,l.deleteResource)(i).then(l=>a((0,s.Action)((0,s.ok)(t.LINK_REMOVE),{data:l,module:e,linkId:i}))).catch(l=>a((0,s.Action)((0,s.fail)(t.LINK_REMOVE),{err:l,module:e,linkId:i})));t.updateModule=({moduleId:e,module:i})=>a=>(0,l.callUpdateModuleAPI)(i,e).then(e=>{const i={...e,moduleId:e.module.id};a((0,s.Action)((0,s.ok)(t.MODULE_UPDATE),i))}).catch(l=>a((0,s.Action)((0,s.fail)(t.MODULE_UPDATE),{err:l,moduleId:e,module:i})));t.addModule=(e,i,a)=>n=>{let o={...e};if(!i||0===i.length)return Promise.resolve().then(()=>n((0,s.Action)((0,s.fail)(t.MODULE_ADD),{err:"no module resources found!",createdModule:o})));let r=[];return(0,l.callCreateModuleAPI)(o,i,a).then(e=>{r=e.updatedData,(o=e.insertedData).resources=e.resources,o.institutionRoleIds=e.institutionRoleIds,n((0,s.Action)((0,s.ok)(t.MODULE_ADD),{updatedModules:r,createdModule:o}))}).catch(e=>n((0,s.Action)((0,s.fail)(t.MODULE_ADD),{err:e,createdModule:o})))};t.removeModule=e=>i=>(0,l.deleteModule)(e).then(a=>i((0,s.Action)((0,s.ok)(t.MODULE_REMOVE),{data:a,moduleId:e}))).catch(a=>i((0,s.Action)((0,s.fail)(t.MODULE_REMOVE),{err:a,moduleId:e})));t.checkModuleVisibility=e=>i=>(0,l.getModuleVisibility)(e).then(a=>i((0,s.Action)((0,s.ok)(t.IS_VISIBLE),{data:a,moduleId:e}))).catch(a=>(i((0,s.Action)((0,s.fail)(t.IS_VISIBLE),{err:a,moduleId:e})),Promise.reject(o.default.GET_MODULE_VISIBILITY)))},l4jc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePanelSettingsHeader=t.LocalizedPanelSettingsHeader=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("8jBL"),o=i("FS8K"),r=i("myse"),d=i("mwK+"),u=a.__importDefault(i("Itin"));i("Cy0f");class c extends l.default.Component{render(){const{title:e,superTitle:t,browserSettingsHref:i,localize:a,analyticsId:s,analyticsEventAugmentor:o}=this.props,d=`${s}.settings.link`;return l.default.createElement("header",{className:"panel-header-component panel-settings-header"},l.default.createElement("h2",{className:"subheader panel-header-component__super-title"},t),l.default.createElement("div",{className:"panel-settings-header__title-row"},l.default.createElement("h1",{className:"subheader panel-header-component__title"},e),l.default.createElement("a",{className:"icon super-clear button js-open-settings",title:a.translate("ip.editPage.browserSettings"),href:i,onClick:o(r.AnalyticsEventTypes.CLICK_EVENT,()=>{},d),"data-analytics-id":d},l.default.createElement(n.Settings,null),l.default.createElement("span",{className:"sr-only"},a.translate("ip.editPage.browserSettings")))))}}t.BasePanelSettingsHeader=c,c.propTypes={superTitle:s.default.string,title:s.default.string,browserSettingsHref:s.default.string.isRequired,localize:u.default.isRequired,...d.withAnalyticsProps},c.defaultProps={superTitle:"",title:""};const p=(0,o.localizedComponentWrapper)(c);t.LocalizedPanelSettingsHeader=p,t.default=(0,r.withAnalytics)(p)},lOtC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("MpSk"));t.default=a.default},lTgO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("uDfI"),o=i("/qxE"),r=a.__importDefault(i("ikgf")),d=a.__importDefault(i("RDnQ")),u=a.__importDefault(i("nvyO")),c=i("esI9");t.default=e=>{class t extends l.default.Component{constructor(){super(...arguments),this.getCurrentModule=(e,t)=>{const i=e?e.filter(e=>e.id===t):[];return i.length>0?i[0]:null},this.saveModule=e=>{const t={moduleId:e.id};return t.module=e,this.props.dispatchStartModuleXhr(),this.props.dispatchUpdateModule(t)||Promise.resolve()}}render(){const t=this.getCurrentModule(this.props.moduleList.modules,this.props.moduleId);return l.default.createElement("div",{className:"existing-module-loader"},!t||this.props.moduleList.loading?l.default.createElement(u.default,null):l.default.createElement(e,{module:t,role:this.props.role,saveModule:this.saveModule,...(0,o.omit)(this.props,"moduleList","moduleId","dispatchStartModuleXhr","dispatchUpdateModule")}))}}t.propTypes={moduleList:r.default.isRequired,role:d.default.isRequired,moduleId:s.default.string.isRequired,dispatchStartModuleXhr:s.default.func.isRequired,dispatchUpdateModule:s.default.func.isRequired},t.displayName=`ExistingModule(${(0,o.getDisplayName)(e)})`;return(0,n.connect)(e=>({moduleList:e.module,role:e.role,session:e.session}),e=>({dispatch:e,dispatchStartModuleXhr:()=>e((0,c.startModuleXhr)()),dispatchUpdateModule:t=>e((0,c.updateModule)(t))}))(t)}},maU5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("l4jc"));t.default=a.default},mpj0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCollapsiblePanel=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("0x+l"),o=a.__importDefault(i("7O4Y")),r=i("myse"),d=i("mwK+");i("qUAi");class u extends l.default.Component{constructor(e){super(e),this.toggleExpanded=()=>{this.setState(e=>({expanded:!e.expanded}))},this.state={expanded:e.startExpanded}}UNSAFE_componentWillReceiveProps(e){e.startExpanded!==this.props.startExpanded&&this.setState(()=>({expanded:e.startExpanded}))}render(){const{analyticsEventAugmentor:e,analyticsId:t}=this.props,i=this.props.className?`collapsible-panel ${this.props.className}`:"collapsible-panel",a=`${t}.collapsiblePanel.toggle.button`,s=l.default.createElement("button",{className:"collapsible-panel__header","aria-expanded":this.state.expanded,onClick:e(r.AnalyticsEventTypes.CLICK_EVENT,this.toggleExpanded,a),"data-analytics-id":a},l.default.createElement("div",{className:"collapsible-panel__header-left"},this.props.headerLeft),l.default.createElement("div",{className:"collapsible-panel__header-right"},l.default.createElement("div",{className:"collapsible-panel__header-right-text"},this.props.headerRight),this.state.expanded?l.default.createElement(n.ArrowUp,{className:"collapsible-panel__header-right-chevron"}):l.default.createElement(n.ArrowDown,{className:"collapsible-panel__header-right-chevron"}))),d=(0,o.default)({"collapsible-panel__content":!0,hidden:!this.state.expanded}),u=l.default.createElement("div",{className:d,"aria-hidden":!this.state.expanded},this.props.children);return l.default.createElement("div",{className:i},s,u)}}t.BaseCollapsiblePanel=u,u.propTypes={startExpanded:s.default.bool,className:s.default.string,headerLeft:s.default.element.isRequired,headerRight:s.default.element.isRequired,children:s.default.node.isRequired,...d.withAnalyticsProps},u.defaultProps={startExpanded:!1,className:""};const c=(0,r.withAnalytics)(u);t.default=c},"mwK+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withAnalyticsProps=t.addAnalyticsProps=void 0;const a=i("aWzz");t.addAnalyticsProps={analyticsId:a.PropTypes.string.isRequired},t.withAnalyticsProps={analyticsEventAugmentor:a.PropTypes.func.isRequired}},n3VJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz"));i("+vjQ");const n=i("0x+l"),o=i("8jBL"),r=({title:e,description:t,bottomMargin:i,size:a})=>l.default.createElement("div",{className:i?"inline-error-container inline-error-container-bottom":"inline-error-container"},"medium"===a?l.default.createElement(o.AlertError,{color:"error",className:"medium-icon"}):l.default.createElement(n.AlertError,{color:"error",className:"small-icon"}),l.default.createElement("div",{"aria-live":"assertive",role:"alert",className:`inline-error-message-container__${a}`},l.default.createElement("div",{className:"inline-error-title"},e),l.default.createElement("div",null,t)));r.propTypes={title:s.default.string.isRequired,size:s.default.oneOf(["small","medium"]).isRequired,description:s.default.string,bottomMargin:s.default.bool},r.defaultProps={bottomMargin:!1,description:""},t.default=r},nvyO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("8ov0"));t.default=a.default},"o+Zy":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("0x+l"),o=i("myse"),r=i("mwK+");i("pz1+");const d=({onClick:e,buttonTitle:t,analyticsId:i})=>{return l.default.createElement("button",{type:"button",className:"institution-page__create-new-bar js-create-button",onClick:(0,o.useAnalyticsAugmentEventOnElement)("click",e,`${i}.insert.button`),"aria-label":t},l.default.createElement("div",{className:"institution-page__create-new-bar__line"}),l.default.createElement(n.Add,{className:"institution-page__create-new-bar__add-icon"}))};d.propTypes={onClick:s.default.func.isRequired,buttonTitle:s.default.string.isRequired,...r.addAnalyticsProps},t.default=d},o2Vb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({url:a.default.string.isRequired,id:a.default.string.isRequired})},ot4N:function(e,t,i){"use strict";i.r(t)},ouXC:function(e,t,i){"use strict";i.r(t)},pL4F:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("3qAq"));t.default=a.default},"pz1+":function(e,t,i){"use strict";i.r(t)},qUAi:function(e,t,i){"use strict";i.r(t)},qi89:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("RBZc"));t.default=a.default},qoca:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({roleId:a.default.string.isRequired,roleKey:a.default.string.isRequired,roleName:a.default.string.isRequired,description:a.default.string.isRequired,custom:a.default.bool.isRequired})},"r/BW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedEditPageImage=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=i("uDfI"),n=a.__importDefault(i("aWzz")),o=i("FS8K"),r=i("myse"),d=i("mwK+"),u=i("esI9"),c=a.__importDefault(i("nvyO")),p=i("Jjaw"),f=a.__importDefault(i("maU5")),m=a.__importDefault(i("pL4F")),h=a.__importDefault(i("Ll+A")),g=a.__importDefault(i("o2Vb")),_=a.__importDefault(i("tZS9")),E=a.__importDefault(i("Itin")),I=a.__importDefault(i("k0sS")),y=a.__importDefault(i("zi9j")),b=i("/qxE");i("d34T");const D=i("0x+l"),R=i("8jBL"),v=i("tN4z"),P=i("Sqh5"),C=i("8qAH");function M(e){const{page:t,type:i,imageToSave:a}=e,l=t.loading?null:t;let s=!1;if(l){s=!!("logo"===i?l.logoId:l.bannerId)}return{page:l,imageIsLoading:!1,enableTrashIcon:s,imageIsError:!1,saveDisabled:!0,isShowPopup:!1,imageUrl:a?a.url:"",imageId:a?a.id:""}}class L extends l.default.Component{constructor(e){super(e),this.onInsertImage=()=>{const{type:e}=this.props,t=this.state.imageUrl;if(t){const i=new Image;i.src=(0,b.convertToAbsoluteUrl)(t),this.setState({imageIsLoading:!0}),i.onload=()=>{const i="logo"===e?{logoId:t}:{bannerId:t};this.setState(e=>({page:{id:e.page.id,...i},saveDisabled:!1,imageIsLoading:!1,enableTrashIcon:!0}))},i.onerror=()=>{this.setState({imageIsError:!0,imageIsLoading:!1,imageUrl:"",imageId:""})}}},this.onPopupOk=()=>{const{type:e}=this.props,t="logo"===e?{logoId:""}:{bannerId:""};this.setState(e=>({page:{id:e.page.id,...t},saveDisabled:!1,isShowPopup:!1,enableTrashIcon:!1,imageUrl:"",imageId:""}))},this.onPopupCancel=()=>{this.setState({isShowPopup:!1})},this.onInputChange=e=>{this.setState({imageUrl:e.target.value})},this.onCloseError=()=>{this.setState({imageIsError:!1,imageUrl:"",imageId:"",isShowPopup:!1}),this.props.onClose()},this.clickCancel=()=>{this.props.onClose()},this.clickSave=()=>{const{dispatch:e}=this.props;e((0,u.startPageXhr)());const t={page:(0,b.trimStringValues)(this.state.page),imageIds:[this.state.imageId]};e((0,u.updatePage)(t)).then(()=>{this.props.onClose()}).catch(e=>{if(e!==y.default.UPDATE_PAGES)throw e})},this.clickDeleteOnPreview=()=>{this.setState({isShowPopup:!0})},this.state=M(e)}componentDidMount(){this.state.imageUrl&&this.onInsertImage()}componentDidUpdate(){const{page:e,imageToSave:t}=this.props;e.loading||null!==this.state.page||this.setState(M(this.props)),t&&t.url!==this.state.imageUrl&&this.setState({imageUrl:t.url,imageId:t.id},this.onInsertImage)}render(){const e="institutionPage.editImage.page";if(this.props.page.loading)return l.default.createElement("div",{className:"edit-logo-component"},l.default.createElement(c.default,null));const t=this.props.localize.translate,{page:i,enableTrashIcon:a}=this.state,s=`${e}.deleteImage.button`,n=a?l.default.createElement("button",{className:"edit-logo-component__delete-icon","aria-label":t("ip.editPage.deleteImageTitle"),onClick:this.props.analyticsEventAugmentor(r.AnalyticsEventTypes.CLICK_EVENT,this.clickDeleteOnPreview,s),"data-analytics-id":s},"logo"===this.props.type?l.default.createElement(R.Trash,null):l.default.createElement(D.Trash,null)):"";let o="logo"===this.props.type?i.logoId:i.bannerId;o=o?(0,b.convertToAbsoluteUrl)(o):"logo"===this.props.type?C:P;const d="logo"===this.props.type?t("ip.editPage.logoPageTitle"):t("ip.editPage.bannerPageTitle"),u=`edit-logo-component__preview edit-logo-component__preview-${this.props.type}`,g=this.props.page.loading&&this.props.page.id?l.default.createElement(c.default,{backDrop:!0}):"",_=this.state.imageIsLoading?l.default.createElement(v.AnalyticsCircularProgress,{ariaLabel:t("ip.editPage.imageIsLoadingAriaLabel")}):null,E=[{text:t("ip.editPage.invalidImageBtn"),action:this.onCloseError}],I=this.props.imageToSave?t("ip.editPage.confirmRemoveImageContent"):t("ip.editPage.confirmRemoveImageContentWarning"),y="logo"===this.props.type?t("ip.editPage.imagePixelDimensionMessageLogo"):t("ip.editPage.imagePixelDimensionMessageBanner");return l.default.createElement("div",null,l.default.createElement("div",{className:"edit-logo-component flex-page-container"},g,this.state.isShowPopup?l.default.createElement(p.ConfirmationPopup,{title:t("ip.editPage.confirmDeleteTitle"),id:"image-delete-confirmation",content:I,onOk:this.onPopupOk,onOkText:t("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:t("ip.editPage.cancelDeleteBtn"),analyticsId:`${e}.confirmation.popup`}):"",this.state.imageIsError?l.default.createElement(p.CustomPopup,{title:t("ip.editPage.invalidImageSelectedTitle"),id:"edit-page-image-error",content:t("ip.editPage.invalidImageSelectedContent"),onCancel:this.onCloseError,customControls:E,elementToFocusOnDismiss:this.contentCollectionLauncher,analyticsId:`${e}.error.popup`}):"",l.default.createElement("div",{className:"flex-page-content has-footer"},l.default.createElement(f.default,{superTitle:t("ip.editPage.superTitle"),title:d,browserSettingsHref:this.props.contentCollectionSettings.browserSettingsHref,analyticsId:`${e}.header`}),l.default.createElement("div",{className:"flex-page-content__grow edit-logo-component__content"},l.default.createElement("div",{className:u},n,_,l.default.createElement("img",{className:"edit-logo-component__preview-img",src:o,alt:""})),l.default.createElement("div",{className:"edit-logo-component__content-collection"},l.default.createElement(h.default,{focusRef:e=>{this.contentCollectionLauncher=e},customClasses:"edit-logo-component__content_collection_button",contentCollectionSettings:this.props.contentCollectionSettings,analyticsId:`${e}.content.launcher`,imageDimensionMessage:y}),!this.state.saveDisabled&&this.state.imageUrl&&l.default.createElement("div",{role:"alert","aria-live":"assertive",className:"edit-logo-component__content-collection-warning",id:"edit-logo-component-content-collection-warning"},t("ip.editPage.contentCollectionPermissionMessage"))),l.default.createElement("div",null,l.default.createElement("span",{className:"edit-logo-component__user-message"},y))))),l.default.createElement(m.default,{clickPrimary:this.clickSave,disabledPrimary:this.state.saveDisabled,textPrimary:t("ip.editPage.saveChangesBtn"),ariaPrimary:t("ip.editPage.saveChangesAria"),clickSecondary:this.clickCancel,textSecondary:t("ip.editPage.cancelChangesBtn"),ariaSecondary:t("ip.editPage.cancelChangesAria"),analyticsId:`${e}.footer`}))}}L.propTypes={dispatch:n.default.func.isRequired,type:n.default.string.isRequired,page:I.default.isRequired,onClose:n.default.func.isRequired,localize:E.default.isRequired,contentCollectionSettings:_.default,imageToSave:g.default,...d.withAnalyticsProps},L.defaultProps={imageToSave:null,contentCollectionSettings:null};const k=(0,s.connect)(e=>({page:e.page}))((0,o.localizedComponentWrapper)(L));t.LocalizedEditPageImage=k,t.default=(0,r.withAnalytics)(k)},r5QD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("2mJF"));t.default=a.default},r6JO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("apWT"));t.default=a.default},r8lX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("KULn"));t.default=a.default},sDkz:function(e,t,i){"use strict";i.r(t)},sxh5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("aWzz")),s=a.__importDefault(i("ibPM"));t.default=l.default.shape({image:s.default})},tZS9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({pickerHref:a.default.string.isRequired,openWindowSettingModal:a.default.func.isRequired,shouldShowWindowSettingModal:a.default.bool.isRequired,shouldOpenInNewWindow:a.default.bool,browserSettingsHref:a.default.string.isRequired})},tZzz:function(e,t,i){"use strict";i.r(t)},uA9R:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("FS8K"),o=i("uDfI"),r=i("/qxE"),d=a.__importDefault(i("IMGp")),u=a.__importDefault(i("Itin")),c=a.__importDefault(i("ikgf")),p=a.__importDefault(i("k0sS")),f=a.__importDefault(i("RDnQ")),m=a.__importDefault(i("sxh5")),h=i("esI9"),g=i("VJGu"),_=a.__importDefault(i("nvyO"));t.default=e=>{class t extends l.default.Component{constructor(e){super(e),this.getResourceValidity=()=>this.props.type===d.default.LINKS,this.sanitizeSequenceNumber=e=>{let t=Number(e);const i=this.props.moduleList.modules.length>0?this.props.moduleList.modules.map(e=>Number(e.sequence)).reduce((e,t)=>Math.max(e,t)):0;return t=(t=(t=Number.isNaN(t)?0:t)<0?0:t)>i?i+1:t},this.saveModule=e=>{this.props.dispatchStartModuleXhr();const t=(0,r.omit)(e,"id","resources","institutionRoleIds"),i=e.resources.map(e=>(0,r.omit)(e,"id","moduleId")),a=e.institutionRoleIds;return this.props.dispatchAddModule(t,i,a)},this.createdSessionModule=!1,this.timeout=null,this.props.shouldCreateSession&&this.createSessionModule()}componentDidUpdate(e){!e.session.module&&this.props.shouldCreateSession&&this.createSessionModule()}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}getTranslations(){const e=this.props.localize.translate;return{moduleName:e("ip.defaultData.moduleName"),imageResourceTitle:e("ip.defaultData.imageResourceTitle"),imageResourceDescription:e("ip.defaultData.imageResourceDescription"),defaultLinkTitle:e("ip.defaultData.linkName")}}translationsReady(){return this.getTranslations().moduleName}createSessionModule(){if(this.createdSessionModule)return;if(this.props.session.module||this.props.page.loading||this.props.moduleList.loading)return;if(!this.translationsReady())return void(this.timeout=setTimeout(()=>this.createSessionModule(),100));this.timeout=null;const e=this.getTranslations(),{module:t,resources:i}=(0,g.createDefaultPostDataWithTempIds)(this.props.type,e);t.resources=i,t.customPageId=this.props.page.id,t.sequence=this.sanitizeSequenceNumber(this.props.sequence),this.createdSessionModule=!0,this.props.dispatchSetSessionModule(t)}render(){const t=this.props.session.module;return t?l.default.createElement(e,{module:t,role:this.props.role,saveModule:this.saveModule,startDirty:!0,resourceStartValid:this.getResourceValidity(),...(0,r.omit)(this.props,"type","sequence","shouldCreateSession","page","localize","dispatchStartModuleXhr","dispatchSetSessionModule","dispatchAddModule","moduleList")}):l.default.createElement(_.default,null)}}const i=(0,r.values)(d.default);t.propTypes={type:s.default.oneOf(i).isRequired,sequence:s.default.string.isRequired,session:m.default.isRequired,shouldCreateSession:s.default.bool,localize:u.default.isRequired,page:p.default.isRequired,dispatchStartModuleXhr:s.default.func.isRequired,dispatchSetSessionModule:s.default.func.isRequired,dispatchAddModule:s.default.func.isRequired,moduleList:c.default.isRequired,role:f.default.isRequired},t.defaultProps={shouldCreateSession:!1},t.displayName=`SessionModule(${(0,r.getDisplayName)(e)})`;return(0,o.connect)(e=>({session:e.session,page:e.page,moduleList:e.module,role:e.role}),e=>({dispatch:e,dispatchStartModuleXhr:()=>e((0,h.startModuleXhr)()),dispatchSetSessionModule:t=>e((0,h.setSessionModule)(t)),dispatchAddModule:(t,i,a)=>e((0,h.addModule)(t,i,a))}))((0,n.localizedComponentWrapper)(t))}},ucKC:function(e,t,i){"use strict";i.r(t)},vDDd:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=["https://","http://","ftp://","mailto:"];t.default=e=>{for(let t=0;t<a.length;t++)if(e.startsWith(a[t]))return e;return"https://".concat(e)}},vHas:function(e,t,i){"use strict";i.r(t)},wQ3e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("5Rl4"));class l extends Error{constructor(e){super(e),this.name=a.default.NotFoundError}}t.default=l},wc8T:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("A3AA"));t.default=a.default},wxmE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("WBPx"),r=i("myse"),d=i("mwK+"),u=a.__importDefault(i("XD08")),c=({content:e,id:t,title:i,onOk:a,onCancel:s,onOkText:d,onCancelText:c,analyticsId:p})=>l.default.createElement(u.default,{content:e,id:t,title:i,onCancel:s,analyticsId:p},l.default.createElement(n.DialogFooter,null,l.default.createElement(o.AnalyticsDefaultButton,{onClick:(0,r.useAnalyticsAugmentEventOnElement)("click",s,`${p}.cancel.button`),className:"js-cancel-button"},c),l.default.createElement(o.AnalyticsDefaultButton,{onClick:(0,r.useAnalyticsAugmentEventOnElement)("click",a,`${p}.ok.button`),primary:!0,className:"js-ok-button"},d)));c.propTypes={content:s.default.oneOfType([s.default.string,s.default.element]).isRequired,id:s.default.string.isRequired,title:s.default.string.isRequired,onOk:s.default.func.isRequired,onCancel:s.default.func.isRequired,onOkText:s.default.string.isRequired,onCancelText:s.default.string.isRequired,...d.addAnalyticsProps},t.default=c},x6fk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("8jBL"),r=i("esI9"),d=a.__importDefault(i("Itin")),u=i("mwK+");i("ucKC");const c={HIDDEN:"HIDDEN",VISIBLE:"VISIBLE"};class p extends l.default.Component{constructor(){super(...arguments),this.onToggleOptionChanged=e=>this.toggleVisible(e.key===c.VISIBLE),this.dropdownControllingButton=null,this.dispatchStartModuleXhr=()=>this.props.dispatch((0,r.startModuleXhr)()),this.dispatchUpdateModule=e=>this.props.dispatch((0,r.updateModule)({module:e,moduleId:e.id})),this.toggleVisible=e=>{const t={id:this.props.moduleId,available:e};this.dispatchStartModuleXhr(),this.dispatchUpdateModule(t).then(()=>{const e=this.dropdownControllingButton;e&&e.focus()})}}render(){const{available:e,localize:t,analyticsId:i}=this.props,a=[{key:c.HIDDEN,text:t.translate("ip.moduleList.userHidden"),itemType:n.DropdownMenuItemType.Normal,index:0,ariaLabel:t.translate("ip.moduleList.userHidden"),icon:l.default.createElement(o.Invisible,null)},{key:c.VISIBLE,text:t.translate("ip.moduleList.userVisible"),itemType:n.DropdownMenuItemType.Normal,index:1,ariaLabel:t.translate("ip.moduleList.userVisible"),icon:l.default.createElement(o.Visible,null)}];return l.default.createElement("div",{className:"institution-page-visibility-toggle__wrapper"},l.default.createElement(n.Dropdown,{ref:e=>{this.dropdownControllingButton=e&&e.refs&&e.refs.root&&e.refs.root.querySelectorAll("button")[0]},calloutProps:{className:"institution-page-visibility-toggle__callout"},options:a,iconDropdown:!0,hideBorders:!0,ariaLabel:t.translate("ip.moduleList.editModuleVisibility"),selectedKey:e?c.VISIBLE:c.HIDDEN,onChanged:this.onToggleOptionChanged,analyticsId:`${i}`}))}}t.default=p,p.propTypes={moduleId:s.default.string.isRequired,available:s.default.bool.isRequired,dispatch:s.default.func.isRequired,localize:d.default.isRequired,...u.addAnalyticsProps}},xIJd:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getXSRFToken=t.deleteResource=t.updateResource=t.addResource=t.deleteModule=t.callUpdateModuleAPI=t.callCreateModuleAPI=t.getModules=t.getModuleVisibility=t.getModule=t.getModuleResources=void 0;const a=i("D57K"),l=i("VCOT"),s=i("ROXL"),n=a.__importDefault(i("44WZ"));t.getModuleResources=e=>{const t=`${l.baseRoute}/module/${e.id}/resources`;return(0,s.fetchReturnBody)(t)};t.getModule=e=>{const t=`${l.baseRoute}/module/${e}`;return(0,s.fetchReturnBody)(t)};t.getModuleVisibility=e=>{const t=`${l.baseRoute}/module/${e}/is-visible`,i=n.default.V2;return(0,s.fetchReturnBody)(t,null,!1,i)};t.getModules=e=>{let t=`${l.baseRoute}/custom-page/${e}/modules`;const i=n.default.V2;return e||(t=`${l.baseRoute}/module`),(0,s.fetchReturnBody)(t,null,!1,i)};t.callCreateModuleAPI=(e,t,i)=>{const a={...(0,s.getFetchOptions)(s.POST,n.default.V3),body:JSON.stringify({module:e,resources:t,institutionRoleIds:i})},o=`${l.baseRoute}/module`;return(0,s.fetchReturnBody)(o,a)};t.callUpdateModuleAPI=(e,t)=>{const i={...(0,s.getFetchOptions)(s.PATCH,n.default.V2),body:JSON.stringify({module:e})},a=`${l.baseRoute}/module/${t}`;return(0,s.fetchReturnBody)(a,i)};t.deleteModule=e=>{const t=`${l.baseRoute}/module/${e}?force=true`;return(0,s.fetchReturnBody)(t,(0,s.getFetchOptions)(s.DELETE))};t.addResource=e=>{const t={...(0,s.getFetchOptions)(s.POST),body:JSON.stringify(e)},i=`${l.baseRoute}/module-resource`;return(0,s.fetchReturnBody)(i,t)};t.updateResource=e=>{const t={...(0,s.getFetchOptions)(s.PATCH),body:JSON.stringify(e)},i=`${l.baseRoute}/module-resource/${e.id}`;return(0,s.fetchReturnBody)(i,t)};t.deleteResource=e=>{const t=`${l.baseRoute}/module-resource/${e}`;return(0,s.fetchReturnBody)(t,(0,s.getFetchOptions)(s.DELETE))};t.getXSRFToken=()=>{const e=`${l.baseUltraRoute}/utilities/xsrfToken`;return fetch(e,(0,s.getFetchOptions)(s.GET)).then(e=>e.json())}},xl5r:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=a.__importDefault(i("aDk2"));i("32Hy");const o=({images:e,index:t})=>{const i=[],a=t<e.length?t:0,s=e[a];for(let t=0;t<e.length;t++)i.push(l.default.createElement("div",{className:`image-carousel-component__indicator${t===a?" active":""}`,key:e[t].id}));return l.default.createElement("div",{className:"image-carousel-component"},l.default.createElement(n.default,{imgUrl:s?s.imageHref:"",customClass:"full-width"}),l.default.createElement("div",{className:"image-carousel-component__indicator-container"},i.length>1&&i))};o.propTypes={images:s.default.arrayOf(s.default.shape({imageHref:s.default.string.isRequired,id:s.default.string.isRequired})).isRequired,index:s.default.number.isRequired},t.default=o},"y/6i":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importStar(i("ERsv"));t.default=e=>{return[...[a.link(),a.image(),a.video()],...Object.keys(e).map(t=>a[t](e[t]))]}},yVFQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInsertButtonDropdown=void 0;const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("Dz4E"),o=i("0x+l"),r=i("myse"),d=i("fN3Q"),u=i("mwK+");i("pz1+");class c extends l.default.Component{constructor(e){super(e),this.onMenuClose=()=>{this.setState(()=>({isOpen:!1}))},this.toggle=()=>{this.setState(e=>({isOpen:!e.isOpen}))},this.state={isOpen:!1},this.menuId=(0,d.v1)()}render(){const{generateDropdownOptions:e,index:t,openedTitle:i,closedTitle:a,ariaLabel:s,analyticsId:d,analyticsEventAugmentor:u}=this.props,c=e(t),p=this.state.isOpen?"institution-page__create-new-bar__line active":"institution-page__create-new-bar__line",f=this.state.isOpen?"institution-page__create-new-bar__add-icon active":"institution-page__create-new-bar__add-icon";return l.default.createElement("button",{onClick:u(r.AnalyticsEventTypes.CLICK_EVENT,this.toggle,`${d}.toggle.button`),ref:e=>{this.buttonElement=e},className:"institution-page__create-new-bar js-module-create-button ",title:this.state.isOpen?i:a,"aria-label":s,"aria-haspopup":!0,"aria-expanded":this.state.isOpen,"aria-controls":this.state.isOpen?this.menuId:null},l.default.createElement("div",{className:p}),l.default.createElement(o.Add,{className:f}),this.state.isOpen?l.default.createElement(n.ContextualMenu,{id:this.menuId,shouldFocusOnMount:!0,directionalHint:5,target:this.buttonElement,onDismiss:this.onMenuClose,items:c,className:"institution-page__insert-menu",analyticsId:`${d}.contextualMenu`}):"")}}t.BaseInsertButtonDropdown=c,c.propTypes={index:s.default.number.isRequired,generateDropdownOptions:s.default.func.isRequired,openedTitle:s.default.string.isRequired,closedTitle:s.default.string.isRequired,ariaLabel:s.default.string.isRequired,...u.withAnalyticsProps};const p=(0,r.withAnalytics)(c);t.default=p},yg7m:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),l=a.__importDefault(i("ERkP")),s=a.__importDefault(i("aWzz")),n=i("ERsv"),o=i("nBlB"),r=a.__importDefault(i("NyG6")),d=a.__importDefault(i("XfUC")),u=a.__importDefault(i("f++J")),c=i("mwK+"),p=({canBeReordered:e,module:t,editable:i,index:a,createModuleDropdownOptions:s,moreOptionsClassName:n,openEdit:o,onDelete:u,dragPointRef:c,dispatch:p,locale:f,openAll:m,pluginsConfig:h,generateAudienceLabel:g,areRolesValid:_,analyticsId:E})=>l.default.createElement("div",{id:`dnd-${t.id}`},l.default.createElement(d.default,{canBeReordered:e,editable:i,index:a,generateDropdownOptions:s,openEdit:o,onDelete:u,dragPointRef:c,module:t,dispatch:p,generateAudienceLabel:g,areRolesValid:_,moreOptionsClassName:n,analyticsId:`${E}.wrapper`},l.default.createElement(r.default,{module:t,openAll:m,dispatch:p,locale:f,pluginsConfig:h,analyticsId:`${E}`})));p.propTypes={canBeReordered:s.default.bool.isRequired,editable:s.default.bool.isRequired,index:s.default.number.isRequired,createModuleDropdownOptions:s.default.func.isRequired,openEdit:s.default.func.isRequired,onDelete:s.default.func.isRequired,dragPointRef:s.default.func.isRequired,module:u.default.isRequired,dispatch:s.default.func.isRequired,locale:s.default.string.isRequired,openAll:s.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,generateAudienceLabel:s.default.func.isRequired,areRolesValid:s.default.func.isRequired,moreOptionsClassName:s.default.string,...c.addAnalyticsProps},p.defaultProps={moreOptionsClassName:""},t.default=(0,o.DragNDropItem)(p)},zi9j:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UPDATE_PAGES:"updatePages failure",GET_MODULE_VISIBILITY:"getModuleVisibility failure"}},zj7q:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("n3VJ"));t.default=a.default}}]);